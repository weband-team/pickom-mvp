# Task: Chats List Page

**Task ID**: ui-2025-01-30-chats-list-page
**Created**: 2025-01-30
**Status**: üü° In Progress

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç-—Å–µ—Å—Å–∏–π –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —á–∞—Ç–∞ –≤ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —á–∞—Ç–∞ `/chat/[pickerId]` ‚úÖ
- –ö–Ω–æ–ø–∫–∞ —á–∞—Ç–∞ –≤ BottomNavigation —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç –∏–ª–∏ picker results ‚ö†Ô∏è
- Mock –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –û–î–ù–û–ô —á–∞—Ç-—Å–µ—Å—Å–∏–∏ ‚ö†Ô∏è

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ–º:**
- –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/chats` —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —á–∞—Ç-—Å–µ—Å—Å–∏–π
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ChatListItem (–ø—Ä–µ–≤—å—é —á–∞—Ç–∞)
- Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è 5-7 —á–∞—Ç-—Å–µ—Å—Å–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ BottomNavigation ‚Üí `/chats`
- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## üéØ –¶–µ–ª–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [ ] –°–æ–∑–¥–∞—Ç—å `/app/chats/page.tsx`
- [ ] –°–æ–∑–¥–∞—Ç—å `ChatListItem` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å mock –¥–∞–Ω–Ω—ã–µ (5-7 —á–∞—Ç-—Å–µ—Å—Å–∏–π) –≤ `mockChat.ts`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `BottomNavigation.tsx` ‚Üí route –Ω–∞ `/chats`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∏–∫ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ `/chat/[pickerId]`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—é—é —Ç–æ—á–∫—É –¥–ª—è –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–≤–∞—Ä–∏–∞–Ω—Ç B): "–ù–∞—á–Ω–∏—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å—Å—è —Å –ø–∏–∫–µ—Ä–∞–º–∏" + –∫–Ω–æ–ø–∫–∞
- [ ] Mobile-first –¥–∏–∑–∞–π–Ω (375px)
- [ ] –¢–æ–ª—å–∫–æ MUI —Å—Ç–∏–ª–∏ (sx prop)

## üìÅ –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ò–∑—É—á–∏—Ç—å:
- `pickom-client/types/chat.ts` - –¢–∏–ø—ã
- `pickom-client/data/mockChat.ts` - Mock –¥–∞–Ω–Ω—ã–µ (—Ä–∞—Å—à–∏—Ä–∏–º)
- `pickom-client/app/chat/[pickerId]/page.tsx` - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —á–∞—Ç
- `pickom-client/components/common/BottomNavigation.tsx` - –ù–∞–≤–∏–≥–∞—Ü–∏—è (–æ–±–Ω–æ–≤–∏–º)
- `pickom-client/app/picker-results/page.tsx` - –†–µ—Ñ–µ—Ä–µ–Ω—Å –¥–ª—è —Å–ø–∏—Å–∫–æ–≤

### –°–æ–∑–¥–∞—Ç—å:
- `pickom-client/app/chats/page.tsx`
- `pickom-client/components/chat/ChatListItem.tsx`

### –ò–∑–º–µ–Ω–∏—Ç—å:
- `pickom-client/data/mockChat.ts` - –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç-—Å–µ—Å—Å–∏–∏
- `pickom-client/components/common/BottomNavigation.tsx` - Route –Ω–∞ /chats
- `pickom-client/components/chat/index.ts` - Export ChatListItem

## üîç –ö–æ–Ω—Ç–µ–∫—Å—Ç

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```typescript
interface ChatSession {
  id: string;
  pickerId: string;
  customerId: string;
  deliveryInfo: DeliveryInfo;
  messages: Message[];
  status: 'active' | 'price_confirmed' | 'completed' | 'cancelled';
}
```

### –ù–æ–≤—ã–π –ø–æ—Ç–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
1. User ‚Üí Click "Chat" –≤ BottomNavigation
2. Navigate ‚Üí `/chats`
3. Click –Ω–∞ —á–∞—Ç ‚Üí `/chat/[pickerId]`

### –î–∏–∑–∞–π–Ω —Ä–µ—à–µ–Ω–∏—è (–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):
- ‚úÖ –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ: —Å–∏–Ω—è—è —Ç–æ—á–∫–∞ (–Ω–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- ‚úÖ –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏: —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- ‚úÖ –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –í–∞—Ä–∏–∞–Ω—Ç B (—Ç–µ–∫—Å—Ç + CTA –∫–Ω–æ–ø–∫–∞)
- ‚úÖ –°—Ç–∏–ª–∏: —Ç–æ–ª—å–∫–æ MUI sx prop

### –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞:
- `active` ‚Üí üü° –ñ–µ–ª—Ç—ã–π (#FFC107)
- `price_confirmed` ‚Üí üîµ –°–∏–Ω–∏–π (#2196F3)
- `completed` ‚Üí üü¢ –ó–µ–ª–µ–Ω—ã–π (#4CAF50)
- `cancelled` ‚Üí ‚ö™ –°–µ—Ä—ã–π (#9E9E9E)

## üìù –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. Mock –¥–∞–Ω–Ω—ã–µ (mockChat.ts)
- –°–æ–∑–¥–∞—Ç—å `mockChatSessions: ChatSession[]` (5-7 —Å–µ—Å—Å–∏–π)
- –†–∞–∑–Ω—ã–µ –ø–∏–∫–µ—Ä—ã, —Å—Ç–∞—Ç—É—Å—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `unread: boolean` –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏

### 2. ChatListItem –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```tsx
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
[Avatar] [Picker Name        ] [Timestamp]
         [Last message...    ] [Status dot] [Unread dot]
```
- Props: `chatSession: ChatSession`, `onClick: () => void`
- Avatar –ø–∏–∫–µ—Ä–∞ (UserAvatar)
- –ò–º—è –ø–∏–∫–µ—Ä–∞
- –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (truncate 50 chars)
- Timestamp (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π: "2—á –Ω–∞–∑–∞–¥")
- –°—Ç–∞—Ç—É—Å dot (—Ü–≤–µ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É)
- –°–∏–Ω—è—è —Ç–æ—á–∫–∞ –µ—Å–ª–∏ unread
- –í–µ—Å—å —ç–ª–µ–º–µ–Ω—Ç clickable
- MUI sx —Å—Ç–∏–ª–∏

### 3. /chats page
- MobileContainer
- Header: "–ß–∞—Ç—ã" + PickomLogo
- Map chatSessions ‚Üí ChatListItem
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ first
- Empty state: Box + Typography + Button ‚Üí navigate to /delivery-methods
- BottomNavigation –≤–Ω–∏–∑—É
- Scrollable list

### 4. BottomNavigation update
- –£–±—Ä–∞—Ç—å –ª–æ–≥–∏–∫—É localStorage
- `case 1: router.push('/chats')`

### 5. Exports
- –î–æ–±–∞–≤–∏—Ç—å ChatListItem –≤ `components/chat/index.ts`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß–µ–∫–ª–∏—Å—Ç:
- [ ] `/chats` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–ª–∏–∫ –Ω–∞ —á–∞—Ç ‚Üí `/chat/[pickerId]`
- [ ] Back ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ `/chats`
- [ ] BottomNavigation Chat ‚Üí `/chats`
- [ ] –°–∏–Ω—è—è —Ç–æ—á–∫–∞ –¥–ª—è unread
- [ ] –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] Empty state + –∫–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Scroll —Ä–∞–±–æ—Ç–∞–µ—Ç (>10 —á–∞—Ç–æ–≤)
- [ ] Mobile 375px responsive

### –°—Ü–µ–Ω–∞—Ä–∏–∏:
1. Happy path: –ù–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Ç–æ–≤ ‚Üí —Å–ø–∏—Å–æ–∫ ‚Üí –∫–ª–∏–∫ ‚Üí –¥–∏–∞–ª–æ–≥
2. Empty: –ù–µ—Ç —á–∞—Ç–æ–≤ ‚Üí empty state ‚Üí CTA button
3. Navigation: Full flow —á–µ—Ä–µ–∑ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## üîñ Checkpoints

### üîñ Checkpoint: 2025-01-30 Initial Planning

**Status**: –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### ‚úÖ Completed
- –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —á–∞—Ç–æ–≤
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –¥–∏–∑–∞–π–Ω —Ä–µ—à–µ–Ω–∏—è
- –°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### üìù Next Steps
1. –†–∞—Å—à–∏—Ä–∏—Ç—å mockChat.ts (5-7 —á–∞—Ç-—Å–µ—Å—Å–∏–π)
2. –°–æ–∑–¥–∞—Ç—å ChatListItem –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. –°–æ–∑–¥–∞—Ç—å /chats page
4. –û–±–Ω–æ–≤–∏—Ç—å BottomNavigation
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### üìÇ Key Files
- `types/chat.ts` - –¢–∏–ø—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- `data/mockChat.ts` - –ù—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å
- `app/chat/[pickerId]/*` - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Ç –¥–ª—è —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞

#### üí° Notes
- –¢–æ–ª—å–∫–æ MUI —Å—Ç–∏–ª–∏ (sx prop)
- Mobile-first 375px
- –°–∏–Ω—è—è —Ç–æ—á–∫–∞ –¥–ª—è unread
- –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏
- Empty state —Å CTA –∫–Ω–æ–ø–∫–æ–π