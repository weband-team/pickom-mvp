"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[932],{359:(e,t,o)=>{o.d(t,{vx:()=>c,Nq:()=>i,mH:()=>l});var r=o(3464),a=o(9509);let n=r.A.create({baseURL:"".concat(a.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),s=r.A.create({baseURL:"".concat(a.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),l=async(e,t,o,r)=>s.post("/auth/login",{role:e,phone:o,name:r},{headers:{Authorization:"Bearer ".concat(t)}}),i=async()=>n.get("/auth/me"),c=async()=>n.post("/auth/logout")},4674:(e,t,o)=>{o.d(t,{A:()=>c});var r=o(5155),a=o(2115),n=o(881),s=o(9509);function l(e){let{label:t,value:o,onChange:l,placeholder:i,error:c}=e,[d,u]=(0,a.useState)([]),[p,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{try{let e=new n.aH({apiKey:s.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||"AIzaSyBHzlPOOQsJhR8XTg7HxVz-mdoOk5o-M4w",version:"weekly",libraries:["places"]});await e.load(),v(!0),console.log("✅ Google Maps successfully loaded")}catch(e){console.error("❌ Error loading Google Maps:",e),console.log("\uD83D\uDCDD Check your API key and ensure Places API is enabled")}})()},[]),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:t}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",style:{width:"100%",padding:"16px 20px",backgroundColor:"#1f2937",border:"2px solid #374151",borderRadius:"12px",color:"white",fontSize:"16px",fontWeight:"400",outline:"none",transition:"all 0.2s ease",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",cursor:"text"},className:"focus:border-orange-500 focus:shadow-lg",placeholder:i,value:o,onChange:e=>{let t=e.target.value;if(l(t),t.length>2&&g){f(!0);let e=s.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;if(!e||e.includes("placeholder")||e.includes("your_")){console.error("❌ Invalid API key. Please set NEXT_PUBLIC_GOOGLE_MAPS_API_KEY in .env.local"),f(!1);return}console.log("\uD83D\uDD04 Using Legacy Places API...");try{new google.maps.places.AutocompleteService().getPlacePredictions({input:t,componentRestrictions:{country:"pl"}},(e,t)=>{f(!1),t===google.maps.places.PlacesServiceStatus.OK&&e?(u(e),h(!0),console.log("✅ Found ".concat(e.length," suggestions"))):(t===google.maps.places.PlacesServiceStatus.REQUEST_DENIED?(console.error("\uD83D\uDEAB Places API (Legacy) access denied. Please:"),console.error("   1. Go to https://console.cloud.google.com/apis/library"),console.error('   2. Enable "Places API" (without "New")'),console.error("   3. Check API key restrictions")):console.warn("⚠️ Places API returned status:",t),u([]),h(!1))})}catch(e){console.error("❌ Legacy API error:",e),f(!1),u([]),h(!1)}}else u([]),h(!1)},onFocus:e=>{o.length>2&&d.length>0&&h(!0);let t=e.target;t.style.borderColor="#f97316",t.style.boxShadow="0 10px 25px -5px rgba(249, 115, 22, 0.25)",t.style.backgroundColor="#111827"},onBlur:e=>{setTimeout(()=>h(!1),200);let t=e.target;t.style.borderColor="#374151",t.style.boxShadow="none",t.style.backgroundColor="#1f2937"},onMouseEnter:e=>{let t=e.target;t!==document.activeElement&&(t.style.borderColor="#ea580c")},onMouseLeave:e=>{let t=e.target;t!==document.activeElement&&(t.style.borderColor="#374151")},onDoubleClick:e=>{e.target.select()},title:o})}),c&&(0,r.jsx)("p",{style:{color:"#ef4444",fontSize:"14px",marginTop:"8px",marginLeft:"4px"},children:c}),!g&&(0,r.jsx)("p",{style:{color:"#fbbf24",fontSize:"14px",marginTop:"8px",marginLeft:"4px"},children:"Loading Google Maps..."}),x&&(0,r.jsx)("div",{style:{position:"absolute",top:"100%",left:"0",right:"0",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"12px",marginTop:"8px",zIndex:50,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:(0,r.jsxs)("div",{style:{padding:"16px",textAlign:"center",color:"#6b7280"},children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500 mr-3"}),"Searching..."]})}),p&&d.length>0&&!x&&(0,r.jsxs)("div",{className:"dropdown-suggestions",style:{position:"absolute",top:"100%",left:"0",right:"0",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"12px",marginTop:"8px",maxHeight:"320px",overflow:"hidden",zIndex:50,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,r.jsx)("div",{style:{maxHeight:"320px",overflowY:"auto"},children:d.map((e,t)=>(0,r.jsx)("button",{type:"button",style:{width:"100%",textAlign:"left",padding:"16px",backgroundColor:"transparent",border:"none",borderBottom:t<d.length-1?"1px solid #f3f4f6":"none",cursor:"pointer",transition:"all 0.15s ease"},onClick:()=>(e=>{if(l(e.description),h(!1),e.place_id)try{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:e.place_id},(t,o)=>{o===google.maps.places.PlacesServiceStatus.OK&&t?(l(e.description,t),console.log("✅ Place details retrieved")):console.warn("⚠️ Could not get place details:",o)})}catch(e){console.error("❌ Error getting place details:",e)}})(e),onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[(0,r.jsx)("div",{style:{color:"#6b7280",marginTop:"4px",flexShrink:0,fontSize:"18px"},children:"\uD83D\uDCCD"}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,r.jsx)("div",{style:{color:"#111827",fontWeight:"500",fontSize:"16px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.structured_formatting.main_text}),e.structured_formatting.secondary_text&&(0,r.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginTop:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.structured_formatting.secondary_text})]})]})},e.place_id||t))}),(0,r.jsx)("div",{style:{padding:"12px",fontSize:"12px",color:"#9ca3af",textAlign:"center",borderTop:"1px solid #f3f4f6",backgroundColor:"#f9fafb"},children:"Powered by Google"})]}),p&&0===d.length&&!x&&o.length>2&&(0,r.jsx)("div",{style:{position:"absolute",top:"100%",left:"0",right:"0",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"12px",marginTop:"8px",zIndex:50,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#6b7280"},children:"No suggestions found"})})]})]})}let i=["Warsaw","Krak\xf3w","Ł\xf3dź","Wrocław","Poznań","Gdańsk","Szczecin","Bydgoszcz","Lublin","Białystok","Katowice","Gdynia","Częstochowa","Radom","Sosnowiec","Toruń","Kielce","Gliwice","Zabrze","Bytom"];function c(e){let{label:t,placeholder:o,value:n,onChange:s,deliveryType:c}=e,[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[x,f]=(0,a.useState)("city"),[g,v]=(0,a.useState)(!1),[b,m]=(0,a.useState)(""),y=(0,a.useRef)(n),w=(0,a.useRef)(!1),j=i.filter(e=>e.toLowerCase().includes(b.toLowerCase()));return(0,a.useEffect)(()=>{if(n!==y.current&&!w.current)if(y.current=n,n&&n.includes(",")){let e=n.split(",");if(e.length>=2){let t=e[e.length-1].trim(),o=e.slice(0,-1).join(",").trim();i.includes(t)&&(w.current=!0,u(t),h(o),f("address"),m(t),w.current=!1)}}else n||(w.current=!0,u(""),h(""),f("city"),m(""),w.current=!1)},[n]),(0,a.useEffect)(()=>{if(!w.current){let e=d&&p?"".concat(p,", ").concat(d):d&&"city"===x?d:"";e!==y.current&&(y.current=e,s(e))}},[d,p,x,s]),(0,r.jsx)(r.Fragment,{children:"Intra-City"===c?(0,r.jsx)(l,{label:t,placeholder:o,value:n,onChange:e=>s(e)}):(0,r.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"16px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:t}),"city"===x?(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("input",{type:"text",value:b,onChange:e=>{m(e.target.value),v(!0)},placeholder:"Select your city...",style:{width:"100%",padding:"16px 50px 16px 20px",background:"#1f2937",border:"2px solid #374151",borderRadius:"12px",color:"white",fontSize:"16px",fontWeight:"400",outline:"none",transition:"all 0.2s ease",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},onFocus:e=>{v(!0);let t=e.target;t.style.borderColor="#f97316",t.style.boxShadow="0 10px 25px -5px rgba(249, 115, 22, 0.25)",t.style.backgroundColor="#111827"},onBlur:e=>{setTimeout(()=>v(!1),150);let t=e.target;t.style.borderColor="#374151",t.style.boxShadow="none",t.style.backgroundColor="#1f2937"}}),(0,r.jsx)("div",{style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",fontSize:"20px",color:"#9CA3AF"},children:"\uD83C\uDFD9️"})]}),g&&j.length>0&&(0,r.jsx)("div",{style:{position:"absolute",top:"100%",left:"0",right:"0",background:"white",border:"2px solid #f97316",borderRadius:"12px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},children:j.map(e=>(0,r.jsxs)("div",{onMouseDown:()=>{u(e),m(e),v(!1),f("address")},style:{padding:"12px 16px",cursor:"pointer",color:"black",borderBottom:"1px solid #f0f0f0",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f97316",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="black"},children:["\uD83C\uDFD9️ ",e]},e))})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",padding:"12px 16px",background:"rgba(249, 115, 22, 0.1)",border:"1px solid rgba(249, 115, 22, 0.3)",borderRadius:"8px"},children:[(0,r.jsxs)("span",{style:{color:"#f97316",fontWeight:"600",fontSize:"14px"},children:["\uD83C\uDFD9️ ",d]}),(0,r.jsx)("button",{onClick:()=>{f("city"),h(""),m(d)},style:{background:"none",border:"none",color:"#f97316",fontSize:"12px",fontWeight:"600",cursor:"pointer",marginLeft:"auto"},children:"Change City"})]}),(0,r.jsx)("input",{type:"text",value:p,onChange:e=>{h(e.target.value)},placeholder:"Enter street address in ".concat(d,"..."),className:"form-input"})]})]})})}},4795:(e,t,o)=>{o.d(t,{w:()=>n});var r=o(359),a=o(9563);function n(){let e=(0,a.n)(),t=async()=>{try{await (0,r.vx)(),e.clear()}catch(e){console.error("Logout error:",e)}},o=async()=>{try{let t=await (0,r.Nq)();e.set({status:"authenticated",user:t.data.user})}catch(t){console.error("Fetch user error:",t),e.set({status:"unauthenticated"})}};return{user:e.user,status:e.status,refresh:o,signOut:t}}},5394:(e,t,o)=>{o.d(t,{A:()=>n});var r=o(5155),a=o(5695);function n(e){let{children:t}=e,o=(0,a.useRouter)(),n=(0,a.usePathname)();return(0,r.jsx)("div",{className:"phone-container",children:(0,r.jsxs)("div",{className:"phone-frame",children:[t,(0,r.jsx)("div",{className:"home-indicator ".concat("/"===n?"active":""),onClick:()=>{"/"!==n&&o.push("/")},title:"Home"})]})})}},7409:(e,t,o)=>{o.d(t,{A:()=>d});var r=o(5155),a=o(4795),n=o(6874),s=o.n(n),l=o(5695);function i(){let e=(0,l.usePathname)(),t=[{name:"Home",href:"/",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})},{name:"Send",href:"/send-package",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M2 21l21-9L2 3v7l15 2-15 2v7z"})})},{name:"Orders",href:"/orders",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{name:"Profile",href:"/profile",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.9 1 3 1.9 3 3V21C3 22.1 3.9 23 5 23H19C20.1 23 21 22.1 21 21V9M19 21H5V3H13V9H19V21Z"})})}];return(0,r.jsx)("div",{className:"bottom-nav",children:(0,r.jsx)("div",{className:"nav-items",children:t.map(t=>{let o=e===t.href;return(0,r.jsxs)(s(),{href:t.href,className:"nav-item ".concat(o?"active":""),children:[t.icon(o),(0,r.jsx)("span",{className:"nav-label",children:t.name})]},t.name)})})})}function c(){let e=(0,l.usePathname)(),t=[{name:"Dashboard",href:"/driver-dashboard",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})})},{name:"Available",href:"/driver-dashboard?tab=available",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{name:"Active",href:"/driver-dashboard?tab=active",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},{name:"Profile",href:"/driver-profile",icon:e=>(0,r.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}],o=t=>"/driver-dashboard"===t?"/driver-dashboard"===e||e.startsWith("/driver-dashboard"):e===t;return(0,r.jsx)("div",{className:"bottom-nav",children:(0,r.jsx)("div",{className:"nav-items",children:t.map(e=>(0,r.jsxs)(s(),{href:e.href,className:"nav-item ".concat(o(e.href)?"active":""),children:[e.icon(o(e.href)),(0,r.jsx)("span",{className:"nav-label",children:e.name})]},e.href))})})}function d(){let{status:e,user:t}=(0,a.w)();return"authenticated"!==e?null:t&&"picker"===t.role?(0,r.jsx)(c,{}):t&&"sender"===t.role?(0,r.jsx)(i,{}):null}},7637:(e,t,o)=>{o.d(t,{LoadingProvider:()=>s,M:()=>l});var r=o(5155),a=o(2115);let n=(0,a.createContext)(void 0);function s(e){let{children:t}=e,[o,s]=(0,a.useState)(!1),[l,i]=(0,a.useState)("Finding the best pickers nearby...");return(0,r.jsx)(n.Provider,{value:{isLoading:o,message:l,showLoading:e=>{e&&i(e),s(!0)},hideLoading:()=>{s(!1),i("Finding the best pickers nearby...")}},children:t})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useLoading must be used within a LoadingProvider");return e}},8360:(e,t,o)=>{o.d(t,{A:()=>n});var r=o(5155),a=o(3568);function n(){return(0,r.jsx)(a.l$,{position:"top-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:4e3,style:{background:"#1f2937",color:"#fff",border:"1px solid #374151",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{style:{background:"#059669",color:"#fff"}},error:{style:{background:"#dc2626",color:"#fff"}}}})}},9563:(e,t,o)=>{o.d(t,{n:()=>r});let r=(0,o(5453).v)((e,t)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:o=>{let{user:r}=t();("function"==typeof o?o(t()):o).user,e(o)}}))}}]);