(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{359:(e,s,c)=>{"use strict";c.d(s,{vx:()=>o,Nq:()=>n,mH:()=>l});var a=c(3464),t=c(9509);let i=a.A.create({baseURL:"".concat(t.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),r=a.A.create({baseURL:"".concat(t.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),l=async(e,s,c,a)=>r.post("/auth/login",{role:e,phone:c,name:a},{headers:{Authorization:"Bearer ".concat(s)}}),n=async()=>i.get("/auth/me"),o=async()=>i.post("/auth/logout")},1609:(e,s,c)=>{"use strict";c.r(s),c.d(s,{default:()=>p});var a=c(5155),t=c(9137),i=c.n(t),r=c(2115),l=c(5695),n=c(5394),o=c(7637),d=c(4913),x=c(4795);function p(){let[e,s]=(0,r.useState)("card"),[c,t]=(0,r.useState)(!1),p=(0,l.useRouter)(),{showLoading:h,hideLoading:u}=(0,o.M)(),{createOrder:j}=(0,d.h)(),{user:m}=(0,x.w)(),b=async()=>{t(!0),h("Processing your payment...");let e=j({customerId:(null==m?void 0:m.uid)||"customer_1",pickupLocation:"Warsaw, ul. Marszałkowska 100",dropoffLocation:"Krak\xf3w, ul. Gł\xf3wny Rynek 1",packageType:"Medium Package",price:85,customerName:(null==m?void 0:m.name)||"Customer",customerPhone:(null==m?void 0:m.phone)||"+48 123 456 789",specialInstructions:"Handle with care",urgent:!1});await new Promise(e=>setTimeout(e,2e3)),t(!1),u(),p.push("/track-package?orderId=".concat(e))};return(0,a.jsx)(n.A,{children:(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 page",children:[(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 status-bar",children:[(0,a.jsx)("span",{className:"jsx-298c86b93107cc90",children:"9:41"}),(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 status-icons",children:[(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 flex gap-1",children:[(0,a.jsx)("div",{className:"jsx-298c86b93107cc90 w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"jsx-298c86b93107cc90 w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"jsx-298c86b93107cc90 w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"jsx-298c86b93107cc90 w-1 h-1 bg-white rounded-full"})]}),(0,a.jsxs)("svg",{width:"17",height:"11",viewBox:"0 0 17 11",fill:"white",className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("path",{d:"M1 5.5C1 3.5 2.5 2 4.5 2S8 3.5 8 5.5 6.5 9 4.5 9 1 7.5 1 5.5z",className:"jsx-298c86b93107cc90"}),(0,a.jsx)("path",{d:"M9 5.5C9 3.5 10.5 2 12.5 2S16 3.5 16 5.5 14.5 9 12.5 9 9 7.5 9 5.5z",className:"jsx-298c86b93107cc90"})]}),(0,a.jsxs)("svg",{width:"24",height:"11",viewBox:"0 0 24 11",fill:"white",className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("rect",{x:"1",y:"1",width:"22",height:"9",rx:"2",stroke:"white",strokeWidth:"1",fill:"none",className:"jsx-298c86b93107cc90"}),(0,a.jsx)("rect",{x:"2",y:"2",width:"18",height:"7",fill:"white",className:"jsx-298c86b93107cc90"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 content",children:[(0,a.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("h1",{className:"jsx-298c86b93107cc90 title-main",children:"Pickom"}),(0,a.jsx)("p",{className:"jsx-298c86b93107cc90 subtitle",children:"People-Powered Delivery"}),(0,a.jsx)("div",{style:{width:"80px",height:"80px",margin:"24px auto",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(16, 185, 129, 0.3)"},className:"jsx-298c86b93107cc90",children:(0,a.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"white",className:"jsx-298c86b93107cc90",children:(0,a.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-298c86b93107cc90"})})}),(0,a.jsx)("h2",{className:"jsx-298c86b93107cc90 title-section",children:"Confirm & Pay"})]}),(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 space-y-6 pb-safe",children:[(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Delivery Details"}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",background:"#10b981",borderRadius:"50%",flexShrink:0},className:"jsx-298c86b93107cc90"}),(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{fontSize:"14px",color:"#999"},className:"jsx-298c86b93107cc90",children:"Pickup"}),(0,a.jsx)("div",{style:{fontSize:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Warsaw Central Station"})]})]}),(0,a.jsx)("div",{style:{width:"1px",height:"20px",background:"#374151",marginLeft:"5px"},className:"jsx-298c86b93107cc90"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",background:"#ef4444",borderRadius:"50%",flexShrink:0},className:"jsx-298c86b93107cc90"}),(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{fontSize:"14px",color:"#999"},className:"jsx-298c86b93107cc90",children:"Drop-off"}),(0,a.jsx)("div",{style:{fontSize:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Krakow Main Square"})]})]})]})]}),(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Your Picker"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{width:"56px",height:"56px",background:"linear-gradient(135deg, #6366f1, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"600",color:"white"},className:"jsx-298c86b93107cc90",children:"AK"}),(0,a.jsxs)("div",{style:{flex:1},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"4px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Anna K."}),(0,a.jsx)("div",{style:{fontSize:"14px",color:"#999",marginBottom:"4px"},className:"jsx-298c86b93107cc90",children:"★ 4.8 • 127 deliveries"}),(0,a.jsx)("div",{style:{fontSize:"14px",color:"#10b981"},className:"jsx-298c86b93107cc90",children:"En route • Tomorrow 2:00 PM"})]}),(0,a.jsxs)("div",{style:{textAlign:"right"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{fontSize:"14px",color:"#999"},className:"jsx-298c86b93107cc90",children:"Estimated"}),(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#fff"},className:"jsx-298c86b93107cc90",children:"45 min"})]})]})]}),(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Payment Method"}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},className:"jsx-298c86b93107cc90",children:[{id:"card",label:"Credit Card",icon:"\uD83D\uDCB3",details:"**** **** **** 1234"},{id:"paypal",label:"PayPal",icon:"\uD83C\uDD7F️",details:"anna@example.com"},{id:"apple",label:"Apple Pay",icon:"\uD83C\uDF4E",details:"Touch ID"}].map(c=>(0,a.jsxs)("button",{onClick:()=>s(c.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:e===c.id?"rgba(99, 102, 241, 0.2)":"transparent",border:e===c.id?"2px solid #6366f1":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",width:"100%",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("span",{style:{fontSize:"20px"},className:"jsx-298c86b93107cc90",children:c.icon}),(0,a.jsxs)("div",{style:{flex:1},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("div",{style:{fontSize:"16px",fontWeight:"500",color:"#fff"},className:"jsx-298c86b93107cc90",children:c.label}),(0,a.jsx)("div",{style:{fontSize:"14px",color:"#999"},className:"jsx-298c86b93107cc90",children:c.details})]}),(0,a.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:e===c.id?"6px solid #6366f1":"2px solid #374151",background:e===c.id?"#fff":"transparent"},className:"jsx-298c86b93107cc90"})]},c.id))})]}),(0,a.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Payment Summary"}),(0,a.jsxs)("div",{className:"jsx-298c86b93107cc90 space-y-3",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("span",{style:{fontSize:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Delivery Fee"}),(0,a.jsx)("span",{style:{fontSize:"16px",color:"#fff"},className:"jsx-298c86b93107cc90",children:"$22.00"})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("span",{style:{color:"#999"},className:"jsx-298c86b93107cc90",children:"Service Fee"}),(0,a.jsx)("span",{style:{color:"#999"},className:"jsx-298c86b93107cc90",children:"$2.00"})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("span",{style:{color:"#999"},className:"jsx-298c86b93107cc90",children:"Pickom Fee (4%)"}),(0,a.jsx)("span",{style:{color:"#999"},className:"jsx-298c86b93107cc90",children:"$1.00"})]}),(0,a.jsx)("div",{style:{height:"1px",background:"rgba(255, 255, 255, 0.1)",margin:"12px 0"},className:"jsx-298c86b93107cc90"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-298c86b93107cc90",children:[(0,a.jsx)("span",{style:{fontSize:"18px",fontWeight:"600",color:"#fff"},className:"jsx-298c86b93107cc90",children:"Total"}),(0,a.jsx)("span",{style:{fontSize:"18px",fontWeight:"600",color:"#10b981"},className:"jsx-298c86b93107cc90",children:"$25.00"})]})]})]}),(0,a.jsx)("div",{style:{paddingTop:"8px"},className:"jsx-298c86b93107cc90",children:(0,a.jsx)("button",{onClick:b,disabled:c,style:{width:"100%",padding:"16px",background:c?"#374151":"linear-gradient(135deg, #f97316, #ea580c)",color:"#fff",border:"none",borderRadius:"16px",fontSize:"18px",fontWeight:"600",cursor:c?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:c?"none":"0 8px 32px rgba(249, 115, 22, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},className:"jsx-298c86b93107cc90",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid transparent",borderTop:"2px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-298c86b93107cc90"}),"Processing..."]}):(0,a.jsx)(a.Fragment,{children:"\uD83D\uDD12 Pay $25.00"})})}),(0,a.jsx)("div",{style:{textAlign:"center",fontSize:"12px",color:"#6b7280",marginTop:"16px"},className:"jsx-298c86b93107cc90",children:"\uD83D\uDD12 Your payment is secured with 256-bit SSL encryption"})]})]}),(0,a.jsx)(i(),{id:"298c86b93107cc90",children:"@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"})]})})}},4795:(e,s,c)=>{"use strict";c.d(s,{w:()=>i});var a=c(359),t=c(9563);function i(){let e=(0,t.n)(),s=async()=>{try{await (0,a.vx)(),e.clear()}catch(e){console.error("Logout error:",e)}},c=async()=>{try{let s=await (0,a.Nq)();e.set({status:"authenticated",user:s.data.user})}catch(s){console.error("Fetch user error:",s),e.set({status:"unauthenticated"})}};return{user:e.user,status:e.status,refresh:c,signOut:s}}},4913:(e,s,c)=>{"use strict";c.d(s,{OrderProvider:()=>r,h:()=>l});var a=c(5155),t=c(2115);let i=(0,t.createContext)(void 0);function r(e){let{children:s}=e,[c,r]=(0,t.useState)([{id:"order_1",customerId:"customer_1",driverId:"driver_1",pickupLocation:"Warsaw, ul. Marszałkowska 100",dropoffLocation:"Krak\xf3w, ul. Gł\xf3wny Rynek 1",packageType:"Medium Package",price:85,status:"package_collected",createdAt:"2024-01-15T09:00:00",customerName:"Jan Kowalski",customerPhone:"+48 123 456 789",specialInstructions:"Fragile items, handle with care",urgent:!1},{id:"order_2",customerId:"customer_2",driverId:"driver_1",pickupLocation:"Gdańsk, ul. Długa 20",dropoffLocation:"Gdańsk, ul. Westerplatte 15",packageType:"Small Package",price:30,status:"heading_to_pickup",createdAt:"2024-01-15T11:00:00",customerName:"Maria Nowak",customerPhone:"+48 987 654 321",urgent:!1},{id:"order_3",customerId:"customer_3",pickupLocation:"Krak\xf3w, ul. Floriańska 12",dropoffLocation:"Krak\xf3w, ul. Karmelicka 45",packageType:"Small Package",price:25,status:"pending",createdAt:"2024-01-15T12:00:00",customerName:"Anna Kowalczyk",customerPhone:"+48 555 666 777",urgent:!0}]),l=(e,s,c)=>{r(a=>a.map(a=>a.id===e?{...a,status:s,...c&&{driverId:c}}:a)),console.log("\uD83D\uDCCA Order status updated:",e,"→",s)};return(0,a.jsx)(i.Provider,{value:{orders:c,createOrder:e=>{let s={...e,id:"order_".concat(Date.now()),status:"pending",createdAt:new Date().toISOString()};return r(e=>[...e,s]),console.log("\uD83D\uDD14 New order created:",s.id),console.log("\uD83D\uDCCD Route:",e.pickupLocation,"→",e.dropoffLocation),s.id},updateOrderStatus:l,getOrdersByDriver:e=>c.filter(s=>s.driverId===e),getOrdersByCustomer:e=>c.filter(s=>s.customerId===e),getAvailableOrders:()=>c.filter(e=>"pending"===e.status),acceptOrder:(e,s)=>!!c.find(s=>s.id===e&&"pending"===s.status)&&(l(e,"accepted",s),console.log("✅ Order accepted by driver:",s),!0)},children:s})}function l(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("useOrders must be used within an OrderProvider");return e}},5871:(e,s,c)=>{Promise.resolve().then(c.bind(c,1609))},7637:(e,s,c)=>{"use strict";c.d(s,{LoadingProvider:()=>r,M:()=>l});var a=c(5155),t=c(2115);let i=(0,t.createContext)(void 0);function r(e){let{children:s}=e,[c,r]=(0,t.useState)(!1),[l,n]=(0,t.useState)("Finding the best pickers nearby...");return(0,a.jsx)(i.Provider,{value:{isLoading:c,message:l,showLoading:e=>{e&&n(e),r(!0)},hideLoading:()=>{r(!1),n("Finding the best pickers nearby...")}},children:s})}function l(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("useLoading must be used within a LoadingProvider");return e}},9563:(e,s,c)=>{"use strict";c.d(s,{n:()=>a});let a=(0,c(5453).v)((e,s)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:c=>{let{user:a}=s();("function"==typeof c?c(s()):c).user,e(c)}}))}},e=>{e.O(0,[604,633,441,964,358],()=>e(e.s=5871)),_N_E=e.O()}]);