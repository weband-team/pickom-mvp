(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{359:(e,s,t)=>{"use strict";t.d(s,{vx:()=>o,Nq:()=>l,mH:()=>c});var a=t(3464),n=t(9509);let i=a.A.create({baseURL:"".concat(n.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),r=a.A.create({baseURL:"".concat(n.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),c=async(e,s,t,a)=>r.post("/auth/login",{role:e,phone:t,name:a},{headers:{Authorization:"Bearer ".concat(s)}}),l=async()=>i.get("/auth/me"),o=async()=>i.post("/auth/logout")},1057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),n=t(2115),i=t(5695),r=t(7637),c=t(5394),l=t(7409),o=t(4795);function d(){let[e,s]=(0,n.useState)("Intra-City"),[t,d]=(0,n.useState)("now"),{status:h,user:u}=(0,o.w)(),{showLoading:v,hideLoading:m}=(0,r.M)(),x=(0,i.useRouter)();(0,n.useEffect)(()=>{"unauthenticated"===h?x.push("/auth/login"):"authenticated"===h&&u&&"picker"===u.role&&x.push("/driver-dashboard")},[h,u,x]);let f=async()=>{v("Preparing your delivery request..."),await new Promise(e=>setTimeout(e,1e3)),m(),x.push("/send-package?type=".concat(encodeURIComponent(e)))},p=async()=>{v("Opening delivery scheduler..."),await new Promise(e=>setTimeout(e,800)),m(),x.push("/schedule-delivery?type=".concat(encodeURIComponent(e)))};return"authenticated"!==h||u&&"picker"===u.role?null:(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"page",children:[(0,a.jsxs)("div",{className:"status-bar",children:[(0,a.jsx)("span",{children:"9:41"}),(0,a.jsxs)("div",{className:"status-icons",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"})]}),(0,a.jsxs)("svg",{width:"17",height:"11",viewBox:"0 0 17 11",fill:"white",children:[(0,a.jsx)("path",{d:"M1 5.5C1 3.5 2.5 2 4.5 2S8 3.5 8 5.5 6.5 9 4.5 9 1 7.5 1 5.5z"}),(0,a.jsx)("path",{d:"M9 5.5C9 3.5 10.5 2 12.5 2S16 3.5 16 5.5 14.5 9 12.5 9 9 7.5 9 5.5z"})]}),(0,a.jsxs)("svg",{width:"24",height:"11",viewBox:"0 0 24 11",fill:"white",children:[(0,a.jsx)("rect",{x:"1",y:"1",width:"22",height:"9",rx:"2",stroke:"white",strokeWidth:"1",fill:"none"}),(0,a.jsx)("rect",{x:"2",y:"2",width:"18",height:"7",fill:"white"})]})]})]}),(0,a.jsx)("div",{className:"content center-content",children:(0,a.jsxs)("div",{className:"mb-32",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"title-main",children:"Pickom"}),(0,a.jsx)("p",{className:"subtitle",children:"People-Powered Delivery"})]}),(0,a.jsx)("button",{onClick:()=>x.push("/customer-profile"),style:{background:"rgba(249, 115, 22, 0.2)",border:"1px solid #f97316",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",color:"#f97316",fontSize:"20px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(249, 115, 22, 0.3)",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(249, 115, 22, 0.2)",e.currentTarget.style.transform="scale(1)"},children:"\uD83D\uDC64"})]}),(0,a.jsx)("h2",{className:"title-section",children:"Send a Package"}),(0,a.jsx)("div",{className:"btn-group",children:["Intra-City","Inter-City"].map(t=>(0,a.jsx)("button",{className:"btn-tab ".concat(e===t?"active":""),onClick:()=>s(t),children:t},t))}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"white",textAlign:"center",marginBottom:"16px"},children:"When would you like to send?"}),(0,a.jsxs)("div",{className:"btn-group",children:[(0,a.jsx)("button",{className:"btn-tab ".concat("now"===t?"active":""),onClick:()=>d("now"),children:"\uD83D\uDE80 Send Now"}),(0,a.jsx)("button",{className:"btn-tab ".concat("scheduled"===t?"active":""),onClick:()=>d("scheduled"),children:"\uD83D\uDCC5 Schedule"})]})]}),"now"===t?(0,a.jsx)("button",{onClick:f,className:"btn-primary",children:"Continue with Immediate Delivery"}):(0,a.jsx)("button",{onClick:p,className:"btn-primary",children:"Schedule Delivery"})]})}),(0,a.jsx)(l.A,{})]})})}},3293:(e,s,t)=>{Promise.resolve().then(t.bind(t,1057))},4795:(e,s,t)=>{"use strict";t.d(s,{w:()=>i});var a=t(359),n=t(9563);function i(){let e=(0,n.n)(),s=async()=>{try{await (0,a.vx)(),e.clear()}catch(e){console.error("Logout error:",e)}},t=async()=>{try{let s=await (0,a.Nq)();e.set({status:"authenticated",user:s.data.user})}catch(s){console.error("Fetch user error:",s),e.set({status:"unauthenticated"})}};return{user:e.user,status:e.status,refresh:t,signOut:s}}},5394:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(5155),n=t(5695);function i(e){let{children:s}=e,t=(0,n.useRouter)(),i=(0,n.usePathname)();return(0,a.jsx)("div",{className:"phone-container",children:(0,a.jsxs)("div",{className:"phone-frame",children:[s,(0,a.jsx)("div",{className:"home-indicator ".concat("/"===i?"active":""),onClick:()=>{"/"!==i&&t.push("/")},title:"Home"})]})})}},7409:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(5155),n=t(4795),i=t(6874),r=t.n(i),c=t(5695);function l(){let e=(0,c.usePathname)(),s=[{name:"Home",href:"/",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})},{name:"Send",href:"/send-package",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M2 21l21-9L2 3v7l15 2-15 2v7z"})})},{name:"Orders",href:"/orders",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{name:"Profile",href:"/profile",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.9 1 3 1.9 3 3V21C3 22.1 3.9 23 5 23H19C20.1 23 21 22.1 21 21V9M19 21H5V3H13V9H19V21Z"})})}];return(0,a.jsx)("div",{className:"bottom-nav",children:(0,a.jsx)("div",{className:"nav-items",children:s.map(s=>{let t=e===s.href;return(0,a.jsxs)(r(),{href:s.href,className:"nav-item ".concat(t?"active":""),children:[s.icon(t),(0,a.jsx)("span",{className:"nav-label",children:s.name})]},s.name)})})})}function o(){let e=(0,c.usePathname)(),s=[{name:"Dashboard",href:"/driver-dashboard",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})})},{name:"Available",href:"/driver-dashboard?tab=available",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{name:"Active",href:"/driver-dashboard?tab=active",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},{name:"Profile",href:"/driver-profile",icon:e=>(0,a.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}],t=s=>"/driver-dashboard"===s?"/driver-dashboard"===e||e.startsWith("/driver-dashboard"):e===s;return(0,a.jsx)("div",{className:"bottom-nav",children:(0,a.jsx)("div",{className:"nav-items",children:s.map(e=>(0,a.jsxs)(r(),{href:e.href,className:"nav-item ".concat(t(e.href)?"active":""),children:[e.icon(t(e.href)),(0,a.jsx)("span",{className:"nav-label",children:e.name})]},e.href))})})}function d(){let{status:e,user:s}=(0,n.w)();return"authenticated"!==e?null:s&&"picker"===s.role?(0,a.jsx)(o,{}):s&&"sender"===s.role?(0,a.jsx)(l,{}):null}},7637:(e,s,t)=>{"use strict";t.d(s,{LoadingProvider:()=>r,M:()=>c});var a=t(5155),n=t(2115);let i=(0,n.createContext)(void 0);function r(e){let{children:s}=e,[t,r]=(0,n.useState)(!1),[c,l]=(0,n.useState)("Finding the best pickers nearby...");return(0,a.jsx)(i.Provider,{value:{isLoading:t,message:c,showLoading:e=>{e&&l(e),r(!0)},hideLoading:()=>{r(!1),l("Finding the best pickers nearby...")}},children:s})}function c(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useLoading must be used within a LoadingProvider");return e}},9563:(e,s,t)=>{"use strict";t.d(s,{n:()=>a});let a=(0,t(5453).v)((e,s)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:t=>{let{user:a}=s();("function"==typeof t?t(s()):t).user,e(t)}}))}},e=>{e.O(0,[604,244,441,964,358],()=>e(e.s=3293)),_N_E=e.O()}]);