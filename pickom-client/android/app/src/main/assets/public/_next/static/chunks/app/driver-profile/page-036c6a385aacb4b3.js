(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{359:(e,t,i)=>{"use strict";i.d(t,{vx:()=>d,Nq:()=>a,mH:()=>l});var o=i(3464),n=i(9509);let s=o.A.create({baseURL:"".concat(n.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),r=o.A.create({baseURL:"".concat(n.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),l=async(e,t,i,o)=>r.post("/auth/login",{role:e,phone:i,name:o},{headers:{Authorization:"Bearer ".concat(t)}}),a=async()=>s.get("/auth/me"),d=async()=>s.post("/auth/logout")},4795:(e,t,i)=>{"use strict";i.d(t,{w:()=>s});var o=i(359),n=i(9563);function s(){let e=(0,n.n)(),t=async()=>{try{await (0,o.vx)(),e.clear()}catch(e){console.error("Logout error:",e)}},i=async()=>{try{let t=await (0,o.Nq)();e.set({status:"authenticated",user:t.data.user})}catch(t){console.error("Fetch user error:",t),e.set({status:"unauthenticated"})}};return{user:e.user,status:e.status,refresh:i,signOut:t}}},5394:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var o=i(5155),n=i(5695);function s(e){let{children:t}=e,i=(0,n.useRouter)(),s=(0,n.usePathname)();return(0,o.jsx)("div",{className:"phone-container",children:(0,o.jsxs)("div",{className:"phone-frame",children:[t,(0,o.jsx)("div",{className:"home-indicator ".concat("/"===s?"active":""),onClick:()=>{"/"!==s&&i.push("/")},title:"Home"})]})})}},5695:(e,t,i)=>{"use strict";var o=i(8999);i.o(o,"usePathname")&&i.d(t,{usePathname:function(){return o.usePathname}}),i.o(o,"useRouter")&&i.d(t,{useRouter:function(){return o.useRouter}}),i.o(o,"useSearchParams")&&i.d(t,{useSearchParams:function(){return o.useSearchParams}})},6012:(e,t,i)=>{Promise.resolve().then(i.bind(i,8312))},8312:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var o=i(5155),n=i(2115),s=i(5695),r=i(5394),l=i(4795);function a(){let{user:e,signOut:t,status:i}=(0,l.w)(),a=(0,s.useRouter)(),[d,c]=(0,n.useState)("profile"),[p,x]=(0,n.useState)("/placeholder-avatar.jpg"),[u,h]=(0,n.useState)({name:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",phone:(null==e?void 0:e.phone)||"",vehicleType:"car",vehiclePlate:"",bio:"",experience:"1",rating:4.8,completedDeliveries:234}),[g,m]=(0,n.useState)([{id:"1",date:"2024-01-15",cities:["Warsaw","Krak\xf3w"],timeSlots:["09:00-12:00","14:00-18:00"],maxPackages:5,isActive:!0},{id:"2",date:"2024-01-16",cities:["Gdańsk"],timeSlots:["10:00-16:00"],maxPackages:3,isActive:!0}]),[y,f]=(0,n.useState)({date:"",cities:[],timeSlots:[""],maxPackages:3}),[b,v]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{"loading"!==i&&e&&(null==e?void 0:e.role)!=="picker"&&a.push("/auth/login")},[e,a,i]),e&&"picker"!==e.role)?null:(0,o.jsx)(r.A,{children:(0,o.jsxs)("div",{className:"page",children:[(0,o.jsxs)("div",{className:"status-bar",children:[(0,o.jsx)("span",{children:"9:41"}),(0,o.jsxs)("div",{className:"status-icons",children:[(0,o.jsx)("span",{children:"\uD83D\uDCF6"}),(0,o.jsx)("span",{children:"\uD83D\uDCF6"}),(0,o.jsx)("span",{children:"\uD83D\uDD0B"})]})]}),(0,o.jsx)("div",{style:{padding:"20px 32px 16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,o.jsx)("button",{onClick:()=>a.back(),style:{background:"none",border:"none",color:"#f97316",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"← Back"}),(0,o.jsx)("h1",{style:{fontSize:"24px",fontWeight:"700",color:"white"},children:"Driver Profile"})]})}),(0,o.jsx)("div",{style:{padding:"24px 32px"},children:(0,o.jsx)("div",{style:{display:"flex",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"4px"},children:[{key:"profile",label:"Profile",icon:"\uD83D\uDC64"},{key:"schedule",label:"Schedule",icon:"\uD83D\uDCC5"},{key:"settings",label:"Settings",icon:"⚙️"}].map(e=>(0,o.jsxs)("button",{onClick:()=>c(e.key),style:{flex:1,padding:"12px 16px",background:d===e.key?"#f97316":"transparent",border:"none",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,o.jsx)("span",{children:e.icon}),(0,o.jsx)("span",{children:e.label})]},e.key))})}),(0,o.jsxs)("div",{style:{padding:"0 32px 32px",flex:1},children:["profile"===d&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,o.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,o.jsx)("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:p.includes("placeholder")?"linear-gradient(135deg, #f97316, #ea580c)":"url(".concat(p,")"),backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px",color:"white",marginBottom:"16px",border:"4px solid rgba(255, 255, 255, 0.1)"},children:p.includes("placeholder")&&"\uD83D\uDC64"}),(0,o.jsxs)("label",{style:{position:"absolute",bottom:"12px",right:"8px",width:"36px",height:"36px",background:"#f97316",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px",color:"white",border:"2px solid #000"},children:["\uD83D\uDCF7",(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let i=null==(t=e.target.files)?void 0:t[0];if(i){let e=new FileReader;e.onload=e=>{var t;x(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(i)}},style:{display:"none"}})]})]}),(0,o.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"white",marginBottom:"4px"},children:u.name}),(0,o.jsxs)("div",{style:{fontSize:"14px",color:"#9CA3AF",marginBottom:"16px"},children:["⭐ ",u.rating," • ",u.completedDeliveries," deliveries"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Full Name"}),(0,o.jsx)("input",{type:"text",value:u.name,onChange:e=>h({...u,name:e.target.value}),className:"form-input"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Phone Number"}),(0,o.jsx)("input",{type:"tel",value:u.phone,onChange:e=>h({...u,phone:e.target.value}),className:"form-input"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Vehicle Type"}),(0,o.jsxs)("select",{value:u.vehicleType,onChange:e=>h({...u,vehicleType:e.target.value}),className:"form-input",children:[(0,o.jsx)("option",{value:"car",children:"\uD83D\uDE97 Car"}),(0,o.jsx)("option",{value:"van",children:"\uD83D\uDE90 Van"}),(0,o.jsx)("option",{value:"truck",children:"\uD83D\uDE9A Truck"}),(0,o.jsx)("option",{value:"bike",children:"\uD83C\uDFCD️ Motorcycle"}),(0,o.jsx)("option",{value:"bicycle",children:"\uD83D\uDEB2 Bicycle"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Vehicle Plate Number"}),(0,o.jsx)("input",{type:"text",value:u.vehiclePlate,onChange:e=>h({...u,vehiclePlate:e.target.value}),className:"form-input",placeholder:"e.g. WA 12345"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Experience (years)"}),(0,o.jsxs)("select",{value:u.experience,onChange:e=>h({...u,experience:e.target.value}),className:"form-input",children:[(0,o.jsx)("option",{value:"1",children:"Less than 1 year"}),(0,o.jsx)("option",{value:"2",children:"1-2 years"}),(0,o.jsx)("option",{value:"3",children:"2-5 years"}),(0,o.jsx)("option",{value:"5",children:"5+ years"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Bio"}),(0,o.jsx)("textarea",{value:u.bio,onChange:e=>h({...u,bio:e.target.value}),className:"form-input h-24",placeholder:"Tell customers about yourself...",maxLength:200}),(0,o.jsxs)("div",{style:{textAlign:"right",fontSize:"12px",color:"#9CA3AF",marginTop:"4px"},children:[u.bio.length,"/200"]})]}),(0,o.jsx)("button",{className:"btn-primary",style:{width:"100%"},onClick:()=>alert("Profile updated!"),children:"Save Profile"})]})]}),"schedule"===d&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,o.jsxs)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"white"},children:["My Schedule (",g.length,")"]}),(0,o.jsx)("button",{onClick:()=>v(!0),style:{background:"#f97316",border:"none",borderRadius:"8px",color:"white",padding:"8px 16px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"+ Add"})]}),(0,o.jsx)("div",{style:{marginBottom:"24px"},children:g.map(e=>(0,o.jsxs)("div",{style:{background:e.isActive?"rgba(16, 185, 129, 0.1)":"rgba(255, 255, 255, 0.05)",border:e.isActive?"1px solid rgba(16, 185, 129, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px",marginBottom:"12px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{fontSize:"16px",fontWeight:"600",color:"white",marginBottom:"4px"},children:["\uD83D\uDCC5 ",new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,o.jsxs)("div",{style:{fontSize:"14px",color:"#9CA3AF"},children:["\uD83C\uDFD9️ ",e.cities.join(" → ")]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,o.jsx)("button",{onClick:()=>{var t;return t=e.id,void m(e=>e.map(e=>e.id===t?{...e,isActive:!e.isActive}:e))},style:{background:e.isActive?"#10b981":"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"6px",color:"white",padding:"4px 8px",fontSize:"12px",cursor:"pointer"},children:e.isActive?"✓":"❌"}),(0,o.jsx)("button",{onClick:()=>{var t;return t=e.id,void m(e=>e.filter(e=>e.id!==t))},style:{background:"#ef4444",border:"none",borderRadius:"6px",color:"white",padding:"4px 8px",fontSize:"12px",cursor:"pointer"},children:"\uD83D\uDDD1️"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"14px",color:"#9CA3AF"},children:[(0,o.jsxs)("div",{children:["⏰ ",e.timeSlots.join(", ")]}),(0,o.jsxs)("div",{children:["\uD83D\uDCE6 Max ",e.maxPackages," packages"]})]})]},e.id))}),b&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,o.jsxs)("div",{style:{background:"#1f2937",borderRadius:"16px",padding:"24px",maxWidth:"320px",width:"100%",maxHeight:"80vh",overflowY:"auto"},children:[(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"white",marginBottom:"20px"},children:"Add Schedule"}),(0,o.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Date"}),(0,o.jsx)("input",{type:"date",value:y.date,onChange:e=>f({...y,date:e.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]})]}),(0,o.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Cities"}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",maxHeight:"120px",overflowY:"auto"},children:["Warsaw","Krak\xf3w","Ł\xf3dź","Wrocław","Poznań","Gdańsk","Szczecin","Bydgoszcz","Lublin","Białystok","Katowice"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>(e=>{let t=y.cities.includes(e)?y.cities.filter(t=>t!==e):[...y.cities,e];f({...y,cities:t})})(e),style:{padding:"8px 12px",background:y.cities.includes(e)?"#f97316":"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"6px",color:"white",fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:e},e))})]}),(0,o.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Time Slots"}),y.timeSlots.map((e,t)=>(0,o.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{let i=[...y.timeSlots];i[e]=t,f({...y,timeSlots:i})})(t,e.target.value),placeholder:"e.g. 09:00-12:00",className:"form-input",style:{fontSize:"14px"}}),y.timeSlots.length>1&&(0,o.jsx)("button",{type:"button",onClick:()=>{f({...y,timeSlots:y.timeSlots.filter((e,i)=>i!==t)})},style:{background:"#ef4444",border:"none",borderRadius:"6px",color:"white",padding:"8px",cursor:"pointer"},children:"❌"})]},t)),(0,o.jsx)("button",{type:"button",onClick:()=>{f({...y,timeSlots:[...y.timeSlots,""]})},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"white",padding:"8px 12px",fontSize:"12px",cursor:"pointer"},children:"+ Add Time Slot"})]}),(0,o.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#9CA3AF",marginBottom:"8px"},children:"Max Packages"}),(0,o.jsx)("input",{type:"number",value:y.maxPackages,onChange:e=>f({...y,maxPackages:parseInt(e.target.value)||1}),className:"form-input",min:"1",max:"20"})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,o.jsx)("button",{onClick:()=>v(!1),style:{flex:1,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",padding:"12px",cursor:"pointer"},children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>{y.date&&y.cities.length>0&&(m([...g,{id:Date.now().toString(),date:y.date,cities:y.cities,timeSlots:y.timeSlots.filter(e=>""!==e.trim()),maxPackages:y.maxPackages,isActive:!0}]),f({date:"",cities:[],timeSlots:[""],maxPackages:3}),v(!1))},style:{flex:1,background:"#f97316",border:"none",borderRadius:"8px",color:"white",padding:"12px",cursor:"pointer"},children:"Add Schedule"})]})]})})]}),"settings"===d&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"white",marginBottom:"24px"},children:"Settings"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[(0,o.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",color:"white",marginBottom:"12px"},children:"Notifications"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}}),(0,o.jsx)("span",{style:{color:"white",fontSize:"14px"},children:"New delivery requests"})]}),(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}}),(0,o.jsx)("span",{style:{color:"white",fontSize:"14px"},children:"Customer messages"})]}),(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",style:{width:"16px",height:"16px"}}),(0,o.jsx)("span",{style:{color:"white",fontSize:"14px"},children:"Promotions and offers"})]})]})]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[(0,o.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",color:"white",marginBottom:"12px"},children:"Availability"}),(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:!0,style:{width:"16px",height:"16px"}}),(0,o.jsx)("span",{style:{color:"white",fontSize:"14px"},children:"Available for new requests"})]})]}),(0,o.jsx)("div",{style:{marginBottom:"16px"},children:(0,o.jsx)("button",{onClick:()=>{t(),a.push("/auth/login")},style:{background:"linear-gradient(135deg, #f97316, #ea580c)",border:"none",borderRadius:"8px",color:"white",padding:"12px 24px",fontSize:"14px",fontWeight:"600",cursor:"pointer",width:"100%",marginBottom:"12px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(249, 115, 22, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"\uD83D\uDEAA Logout"})}),(0,o.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",padding:"16px"},children:[(0,o.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#ef4444",marginBottom:"8px"},children:"Danger Zone"}),(0,o.jsx)("p",{style:{fontSize:"14px",color:"#9CA3AF",marginBottom:"12px"},children:"Once you delete your account, there is no going back."}),(0,o.jsx)("button",{style:{background:"none",border:"1px solid #ef4444",borderRadius:"6px",color:"#ef4444",padding:"8px 16px",fontSize:"14px",cursor:"pointer"},children:"Delete Account"})]})]})]})]})]})})}},9563:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});let o=(0,i(5453).v)((e,t)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:i=>{let{user:o}=t();("function"==typeof i?i(t()):i).user,e(i)}}))}},e=>{e.O(0,[604,441,964,358],()=>e(e.s=6012)),_N_E=e.O()}]);