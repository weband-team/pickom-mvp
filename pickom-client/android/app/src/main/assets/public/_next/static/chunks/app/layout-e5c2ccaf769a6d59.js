(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{359:(e,t,r)=>{"use strict";r.d(t,{vx:()=>l,Nq:()=>d,mH:()=>o});var i=r(3464),s=r(9509);let n=i.A.create({baseURL:"".concat(s.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),a=i.A.create({baseURL:"".concat(s.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),o=async(e,t,r,i)=>a.post("/auth/login",{role:e,phone:r,name:i},{headers:{Authorization:"Bearer ".concat(t)}}),d=async()=>n.get("/auth/me"),l=async()=>n.post("/auth/logout")},696:(e,t,r)=>{"use strict";r.d(t,{ClientProviders:()=>l});var i=r(5155),s=r(2922),n=r(6715),a=r(2115),o=r(4795);function d(e){let{children:t}=e,{refresh:r,status:s}=(0,o.w)(),[n,d]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=async()=>{n||(d(!0),await r(),d(!1))};"loading"===s&&e()},[r,s,n]),"loading"===s)?(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):(0,i.jsx)(i.Fragment,{children:t})}function l(e){let{children:t}=e,r=new s.E;return(0,i.jsx)(n.Ht,{client:r,children:(0,i.jsx)(d,{children:t})})}},997:(e,t,r)=>{Promise.resolve().then(r.bind(r,696)),Promise.resolve().then(r.bind(r,6754)),Promise.resolve().then(r.bind(r,7637)),Promise.resolve().then(r.bind(r,4913)),Promise.resolve().then(r.t.bind(r,9324,23))},4795:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var i=r(359),s=r(9563);function n(){let e=(0,s.n)(),t=async()=>{try{await (0,i.vx)(),e.clear()}catch(e){console.error("Logout error:",e)}},r=async()=>{try{let t=await (0,i.Nq)();e.set({status:"authenticated",user:t.data.user})}catch(t){console.error("Fetch user error:",t),e.set({status:"unauthenticated"})}};return{user:e.user,status:e.status,refresh:r,signOut:t}}},4913:(e,t,r)=>{"use strict";r.d(t,{OrderProvider:()=>a,h:()=>o});var i=r(5155),s=r(2115);let n=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)([{id:"order_1",customerId:"customer_1",driverId:"driver_1",pickupLocation:"Warsaw, ul. Marszałkowska 100",dropoffLocation:"Krak\xf3w, ul. Gł\xf3wny Rynek 1",packageType:"Medium Package",price:85,status:"package_collected",createdAt:"2024-01-15T09:00:00",customerName:"Jan Kowalski",customerPhone:"+48 123 456 789",specialInstructions:"Fragile items, handle with care",urgent:!1},{id:"order_2",customerId:"customer_2",driverId:"driver_1",pickupLocation:"Gdańsk, ul. Długa 20",dropoffLocation:"Gdańsk, ul. Westerplatte 15",packageType:"Small Package",price:30,status:"heading_to_pickup",createdAt:"2024-01-15T11:00:00",customerName:"Maria Nowak",customerPhone:"+48 987 654 321",urgent:!1},{id:"order_3",customerId:"customer_3",pickupLocation:"Krak\xf3w, ul. Floriańska 12",dropoffLocation:"Krak\xf3w, ul. Karmelicka 45",packageType:"Small Package",price:25,status:"pending",createdAt:"2024-01-15T12:00:00",customerName:"Anna Kowalczyk",customerPhone:"+48 555 666 777",urgent:!0}]),o=(e,t,r)=>{a(i=>i.map(i=>i.id===e?{...i,status:t,...r&&{driverId:r}}:i)),console.log("\uD83D\uDCCA Order status updated:",e,"→",t)};return(0,i.jsx)(n.Provider,{value:{orders:r,createOrder:e=>{let t={...e,id:"order_".concat(Date.now()),status:"pending",createdAt:new Date().toISOString()};return a(e=>[...e,t]),console.log("\uD83D\uDD14 New order created:",t.id),console.log("\uD83D\uDCCD Route:",e.pickupLocation,"→",e.dropoffLocation),t.id},updateOrderStatus:o,getOrdersByDriver:e=>r.filter(t=>t.driverId===e),getOrdersByCustomer:e=>r.filter(t=>t.customerId===e),getAvailableOrders:()=>r.filter(e=>"pending"===e.status),acceptOrder:(e,t)=>!!r.find(t=>t.id===e&&"pending"===t.status)&&(o(e,"accepted",t),console.log("✅ Order accepted by driver:",t),!0)},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useOrders must be used within an OrderProvider");return e}},6754:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var i=r(5155),s=r(7637);function n(e){let{isVisible:t,message:r="Finding the best pickers nearby..."}=e;return t?(0,i.jsx)("div",{className:"fixed inset-0",style:{zIndex:99999,backgroundColor:"#1a1a1a",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,i.jsxs)("div",{style:{width:"375px",height:"812px",background:"#000",borderRadius:"40px",position:"relative",overflow:"hidden",boxShadow:"0 0 30px rgba(255, 255, 255, 0.1)"},children:[(0,i.jsx)("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",width:"134px",height:"5px",background:"#333",borderRadius:"2.5px",zIndex:1e3}}),(0,i.jsxs)("div",{style:{height:"100%",minHeight:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{className:"status-bar",children:[(0,i.jsx)("span",{children:"9:41"}),(0,i.jsxs)("div",{className:"status-icons",children:[(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"})]}),(0,i.jsxs)("svg",{width:"17",height:"11",viewBox:"0 0 17 11",fill:"white",children:[(0,i.jsx)("path",{d:"M1 5.5C1 3.5 2.5 2 4.5 2S8 3.5 8 5.5 6.5 9 4.5 9 1 7.5 1 5.5z"}),(0,i.jsx)("path",{d:"M9 5.5C9 3.5 10.5 2 12.5 2S16 3.5 16 5.5 14.5 9 12.5 9 9 7.5 9 5.5z"})]}),(0,i.jsxs)("svg",{width:"24",height:"11",viewBox:"0 0 24 11",fill:"white",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"22",height:"9",rx:"2",stroke:"white",strokeWidth:"1",fill:"none"}),(0,i.jsx)("rect",{x:"2",y:"2",width:"18",height:"7",fill:"white"})]})]})]}),(0,i.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px",textAlign:"center"},children:[(0,i.jsxs)("div",{style:{marginBottom:"64px"},children:[(0,i.jsx)("h1",{style:{fontSize:"54px",fontWeight:"700",color:"white",marginBottom:"8px",textAlign:"center",letterSpacing:"-0.02em"},children:"Pickom"}),(0,i.jsx)("p",{style:{fontSize:"18px",color:"#9CA3AF",textAlign:"center",fontWeight:"400",marginBottom:"0"},children:"People-Powered Delivery"})]}),(0,i.jsxs)("div",{style:{marginBottom:"64px"},children:[(0,i.jsx)("h2",{style:{fontSize:"32px",fontWeight:"600",color:"white",textAlign:"center",marginBottom:"40px",lineHeight:"1.2",maxWidth:"300px",margin:"0 auto 40px auto"},children:r}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsxs)("div",{className:"relative",style:{width:"100px",height:"100px"},children:[(0,i.jsx)("div",{className:"absolute inset-0 rounded-full animate-spin",style:{background:"conic-gradient(from 0deg, #f97316 0deg, #f97316 270deg, transparent 270deg)",animationDuration:"1.5s"}}),(0,i.jsx)("div",{className:"absolute rounded-full bg-black",style:{top:"10px",left:"10px",right:"10px",bottom:"10px"}})]})})]}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{fontSize:"18px",color:"#9CA3AF",textAlign:"center",lineHeight:"1.5",fontWeight:"400",maxWidth:"280px",margin:"0 auto"},children:"We're matching you with the most trusted and available pickers in your area."})})]})]}),(0,i.jsx)("div",{style:{position:"absolute",bottom:"8px",left:"50%",transform:"translateX(-50%)",width:"134px",height:"5px",background:"#666",borderRadius:"2.5px",zIndex:1e3}})]})}):null}function a(){let{isLoading:e,message:t}=(0,s.M)();return(0,i.jsx)(n,{isVisible:e,message:t})}},7637:(e,t,r)=>{"use strict";r.d(t,{LoadingProvider:()=>a,M:()=>o});var i=r(5155),s=r(2115);let n=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)(!1),[o,d]=(0,s.useState)("Finding the best pickers nearby...");return(0,i.jsx)(n.Provider,{value:{isLoading:r,message:o,showLoading:e=>{e&&d(e),a(!0)},hideLoading:()=>{a(!1),d("Finding the best pickers nearby...")}},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useLoading must be used within a LoadingProvider");return e}},9324:()=>{},9563:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});let i=(0,r(5453).v)((e,t)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:r=>{let{user:i}=t();("function"==typeof r?r(t()):r).user,e(r)}}))}},e=>{e.O(0,[533,604,874,441,964,358],()=>e(e.s=997)),_N_E=e.O()}]);