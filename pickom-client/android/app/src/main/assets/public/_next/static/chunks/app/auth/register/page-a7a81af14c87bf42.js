(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),i=s(2115),n=s(6874),r=s.n(n),l=s(5394),o=s(9098);function d(){let[e,t]=(0,i.useState)(""),[s,n]=(0,i.useState)(""),[d,c]=(0,i.useState)(""),[h,u]=(0,i.useState)(""),[p,x]=(0,i.useState)(""),[g,m]=(0,i.useState)("sender"),[v,f]=(0,i.useState)(""),{handleSignUp:j}=(0,o.o)(),y=async t=>{if(t.preventDefault(),f(""),d!==h)return void f("Passwords do not match");try{console.log(e),await j(g,s,d,p,e)}catch(e){f(e)}};return(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"page",children:[(0,a.jsxs)("div",{className:"status-bar",children:[(0,a.jsx)("span",{children:"9:41"}),(0,a.jsxs)("div",{className:"status-icons",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"})]}),(0,a.jsxs)("svg",{width:"17",height:"11",viewBox:"0 0 17 11",fill:"white",children:[(0,a.jsx)("path",{d:"M1 5.5C1 3.5 2.5 2 4.5 2S8 3.5 8 5.5 6.5 9 4.5 9 1 7.5 1 5.5z"}),(0,a.jsx)("path",{d:"M9 5.5C9 3.5 10.5 2 12.5 2S16 3.5 16 5.5 14.5 9 12.5 9 9 7.5 9 5.5z"})]}),(0,a.jsxs)("svg",{width:"24",height:"11",viewBox:"0 0 24 11",fill:"white",children:[(0,a.jsx)("rect",{x:"1",y:"1",width:"22",height:"9",rx:"2",stroke:"white",strokeWidth:"1",fill:"none"}),(0,a.jsx)("rect",{x:"2",y:"2",width:"18",height:"7",fill:"white"})]})]})]}),(0,a.jsxs)("div",{className:"content center-content",children:[(0,a.jsxs)("div",{style:{marginBottom:"48px"},children:[(0,a.jsx)("h1",{className:"title-main",children:"Pickom"}),(0,a.jsx)("p",{className:"subtitle",children:"People-Powered Delivery"}),(0,a.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",textAlign:"center",marginBottom:"0"},children:"Create Account"})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[v&&(0,a.jsx)("div",{style:{color:"#ef4444",textAlign:"center",fontSize:"14px"},children:v}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"form-input",placeholder:"Full Name",required:!0})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"email",value:s,onChange:e=>n(e.target.value),className:"form-input",placeholder:"Email",required:!0})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"password",value:d,onChange:e=>c(e.target.value),className:"form-input",placeholder:"Password",required:!0})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"password",value:h,onChange:e=>u(e.target.value),className:"form-input",placeholder:"Confirm Password",required:!0})}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"16px",fontWeight:"600",color:"#9CA3AF",marginBottom:"12px"},children:"I want to:"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,a.jsxs)("button",{type:"button",onClick:()=>m("sender"),style:{padding:"16px 20px",background:"sender"===g?"linear-gradient(135deg, #f97316, #ea580c)":"rgba(255, 255, 255, 0.05)",border:"sender"===g?"2px solid #f97316":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"white",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},children:[(0,a.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\uD83D\uDCE6"}),(0,a.jsx)("div",{style:{fontSize:"14px",fontWeight:"600"},children:"Send Packages"}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"4px"},children:"Customer"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>m("picker"),style:{padding:"16px 20px",background:"picker"===g?"linear-gradient(135deg, #f97316, #ea580c)":"rgba(255, 255, 255, 0.05)",border:"picker"===g?"2px solid #f97316":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"white",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},children:[(0,a.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\uD83D\uDE97"}),(0,a.jsx)("div",{style:{fontSize:"14px",fontWeight:"600"},children:"Deliver Packages"}),(0,a.jsx)("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"4px"},children:"Driver"})]})]})]}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"tel",value:p,onChange:e=>x(e.target.value),className:"form-input",placeholder:"Phone Number (recommended)"})}),(0,a.jsx)("div",{style:{paddingTop:"24px"},children:(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:"Sign Up"})}),(0,a.jsx)("div",{style:{textAlign:"center",paddingTop:"16px"},children:(0,a.jsx)(r(),{href:"/auth/login",style:{color:"#999",textDecoration:"underline"},children:"Already have an account? Sign in"})})]})]})]})})}},359:(e,t,s)=>{"use strict";s.d(t,{vx:()=>d,Nq:()=>o,mH:()=>l});var a=s(3464),i=s(9509);let n=a.A.create({baseURL:"".concat(i.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),r=a.A.create({baseURL:"".concat(i.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),l=async(e,t,s,a)=>r.post("/auth/login",{role:e,phone:s,name:a},{headers:{Authorization:"Bearer ".concat(t)}}),o=async()=>n.get("/auth/me"),d=async()=>n.post("/auth/logout")},5394:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),i=s(5695);function n(e){let{children:t}=e,s=(0,i.useRouter)(),n=(0,i.usePathname)();return(0,a.jsx)("div",{className:"phone-container",children:(0,a.jsxs)("div",{className:"phone-frame",children:[t,(0,a.jsx)("div",{className:"home-indicator ".concat("/"===n?"active":""),onClick:()=>{"/"!==n&&s.push("/")},title:"Home"})]})})}},6786:(e,t,s)=>{Promise.resolve().then(s.bind(s,276))},9098:(e,t,s)=>{"use strict";s.d(t,{o:()=>h});var a=s(5695),i=s(359),n=s(9563),r=s(5404),l=s(3915),o=s(9509);let d=(0,l.Dk)().length>0?(0,l.Sx)():(0,l.Wp)({apiKey:o.env.NEXT_PUBLIC_VITE_FIREBASE_API_KEY,authDomain:o.env.NEXT_PUBLIC_VITE_FIREBASE_AUTH_DOMAIN}),c=(0,r.xI)(d);function h(){let e=(0,n.n)(),t=(0,a.useRouter)(),s=async(t,s,a,n)=>{let r=await (0,i.mH)(t,s,a,n);console.log("response",r.data),e.set({user:r.data,status:"authenticated"})};return{handleSignUp:async(e,a,i,n,l)=>{try{console.log("handleSignUp",e,a,i,n,l),console.log("auth",c);let o=await (0,r.eJ)(c,a,i);console.log("userCredentials",o);let d=await o.user.getIdToken();console.log("accessToken",d),await s(e,d,n,l),console.log("handleLogin",e,d,n),"picker"===e?t.push("/driver-dashboard"):t.push("/")}catch(e){throw e}},handleSignIn:async function(e,a,i){try{let n=await (0,r.x9)(c,a,i),l=await n.user.getIdToken();await s(e,l),"picker"===e?t.push("/driver-dashboard"):t.push("/")}catch(e){throw e}}}}},9563:(e,t,s)=>{"use strict";s.d(t,{n:()=>a});let a=(0,s(5453).v)((e,t)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:s=>{let{user:a}=t();("function"==typeof s?s(t()):s).user,e(s)}}))}},e=>{e.O(0,[965,604,244,834,441,964,358],()=>e(e.s=6786)),_N_E=e.O()}]);