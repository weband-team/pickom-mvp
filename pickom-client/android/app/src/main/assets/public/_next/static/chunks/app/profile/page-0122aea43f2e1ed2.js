(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{359:(e,s,t)=>{"use strict";t.d(s,{vx:()=>c,Nq:()=>o,mH:()=>l});var i=t(3464),n=t(9509);let a=i.A.create({baseURL:"".concat(n.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),r=i.A.create({baseURL:"".concat(n.env.NEXT_PUBLIC_SERVER),withCredentials:!0,headers:{"Content-Type":"application/json"}}),l=async(e,s,t,i)=>r.post("/auth/login",{role:e,phone:t,name:i},{headers:{Authorization:"Bearer ".concat(s)}}),o=async()=>a.get("/auth/me"),c=async()=>a.post("/auth/logout")},4769:(e,s,t)=>{Promise.resolve().then(t.bind(t,8591))},4795:(e,s,t)=>{"use strict";t.d(s,{w:()=>a});var i=t(359),n=t(9563);function a(){let e=(0,n.n)(),s=async()=>{try{await (0,i.vx)(),e.clear()}catch(e){console.error("Logout error:",e)}},t=async()=>{try{let s=await (0,i.Nq)();e.set({status:"authenticated",user:s.data.user})}catch(s){console.error("Fetch user error:",s),e.set({status:"unauthenticated"})}};return{user:e.user,status:e.status,refresh:t,signOut:s}}},5394:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var i=t(5155),n=t(5695);function a(e){let{children:s}=e,t=(0,n.useRouter)(),a=(0,n.usePathname)();return(0,i.jsx)("div",{className:"phone-container",children:(0,i.jsxs)("div",{className:"phone-frame",children:[s,(0,i.jsx)("div",{className:"home-indicator ".concat("/"===a?"active":""),onClick:()=>{"/"!==a&&t.push("/")},title:"Home"})]})})}},7409:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var i=t(5155),n=t(4795),a=t(6874),r=t.n(a),l=t(5695);function o(){let e=(0,l.usePathname)(),s=[{name:"Home",href:"/",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})},{name:"Send",href:"/send-package",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M2 21l21-9L2 3v7l15 2-15 2v7z"})})},{name:"Orders",href:"/orders",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{name:"Profile",href:"/profile",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.9 1 3 1.9 3 3V21C3 22.1 3.9 23 5 23H19C20.1 23 21 22.1 21 21V9M19 21H5V3H13V9H19V21Z"})})}];return(0,i.jsx)("div",{className:"bottom-nav",children:(0,i.jsx)("div",{className:"nav-items",children:s.map(s=>{let t=e===s.href;return(0,i.jsxs)(r(),{href:s.href,className:"nav-item ".concat(t?"active":""),children:[s.icon(t),(0,i.jsx)("span",{className:"nav-label",children:s.name})]},s.name)})})})}function c(){let e=(0,l.usePathname)(),s=[{name:"Dashboard",href:"/driver-dashboard",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})})},{name:"Available",href:"/driver-dashboard?tab=available",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})},{name:"Active",href:"/driver-dashboard?tab=active",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},{name:"Profile",href:"/driver-profile",icon:e=>(0,i.jsx)("svg",{className:"nav-icon",viewBox:"0 0 24 24",fill:e?"#fff":"#666",children:(0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}],t=s=>"/driver-dashboard"===s?"/driver-dashboard"===e||e.startsWith("/driver-dashboard"):e===s;return(0,i.jsx)("div",{className:"bottom-nav",children:(0,i.jsx)("div",{className:"nav-items",children:s.map(e=>(0,i.jsxs)(r(),{href:e.href,className:"nav-item ".concat(t(e.href)?"active":""),children:[e.icon(t(e.href)),(0,i.jsx)("span",{className:"nav-label",children:e.name})]},e.href))})})}function h(){let{status:e,user:s}=(0,n.w)();return"authenticated"!==e?null:s&&"picker"===s.role?(0,i.jsx)(c,{}):s&&"sender"===s.role?(0,i.jsx)(o,{}):null}},8591:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var i=t(5155),n=t(5695),a=t(7409),r=t(5394),l=t(4795);function o(){var e,s;let{user:t,signOut:o,status:c}=(0,l.w)(),h=(0,n.useRouter)();return"authenticated"!==c?(h.push("/auth/login"),null):t&&"picker"===t.role?(h.push("/driver-profile"),null):t&&"sender"===t.role?(h.push("/customer-profile"),null):(0,i.jsx)(r.A,{children:(0,i.jsxs)("div",{className:"page",children:[(0,i.jsxs)("div",{className:"status-bar",children:[(0,i.jsx)("span",{children:"9:41"}),(0,i.jsxs)("div",{className:"status-icons",children:[(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"}),(0,i.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"})]}),(0,i.jsxs)("svg",{width:"17",height:"11",viewBox:"0 0 17 11",fill:"white",children:[(0,i.jsx)("path",{d:"M1 5.5C1 3.5 2.5 2 4.5 2S8 3.5 8 5.5 6.5 9 4.5 9 1 7.5 1 5.5z"}),(0,i.jsx)("path",{d:"M9 5.5C9 3.5 10.5 2 12.5 2S16 3.5 16 5.5 14.5 9 12.5 9 9 7.5 9 5.5z"})]}),(0,i.jsxs)("svg",{width:"24",height:"11",viewBox:"0 0 24 11",fill:"white",children:[(0,i.jsx)("rect",{x:"1",y:"1",width:"22",height:"9",rx:"2",stroke:"white",strokeWidth:"1",fill:"none"}),(0,i.jsx)("rect",{x:"2",y:"2",width:"18",height:"7",fill:"white"})]})]})]}),(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("h1",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"32px"},children:"Profile"}),(0,i.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,i.jsx)("div",{style:{width:"96px",height:"96px",background:"#333",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px",fontWeight:"600"},children:(null==t||null==(s=t.name)||null==(e=s.charAt(0))?void 0:e.toUpperCase())||"U"}),(0,i.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:(null==t?void 0:t.name)||"User"}),(0,i.jsx)("p",{style:{fontSize:"16px",color:"#999",marginBottom:"8px"},children:null==t?void 0:t.email}),(0,i.jsx)("button",{style:{color:"#999",textDecoration:"underline",background:"none",border:"none",fontSize:"16px"},children:"Edit Profile"})]}),(0,i.jsx)("div",{className:"card",style:{marginBottom:"16px"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("div",{style:{marginRight:"12px"},children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"#999",children:[(0,i.jsx)("rect",{x:"3",y:"4",width:"18",height:"12",rx:"2",stroke:"#999",strokeWidth:"1",fill:"none"}),(0,i.jsx)("path",{d:"M7 8h10M7 12h4",stroke:"#999",strokeWidth:"1"})]})}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:"ID Photo"}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#999"},children:"Add an ID for verification"})]}),(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"#999",children:(0,i.jsx)("path",{d:"M10 4v12M4 10h12",stroke:"#999",strokeWidth:"1.5"})})]})}),(0,i.jsx)("div",{className:"card",style:{marginBottom:"16px"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"4px"},children:"Pickom"}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#999"},children:"People-Powered Delivery"})]}),(0,i.jsxs)("div",{style:{textAlign:"right"},children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[1,2,3,4,5].map(e=>(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:e<=4?"#fbbf24":"#666",children:(0,i.jsx)("path",{d:"M8 1l2 4 4 1-3 3 1 4-4-2-4 2 1-4-3-3 4-1 2-4z"})},e))}),(0,i.jsx)("div",{style:{fontSize:"14px",color:"#999"},children:"4.8 Trust Score"})]})]})}),(0,i.jsx)("div",{style:{paddingTop:"24px",paddingBottom:"100px"},children:(0,i.jsx)("button",{onClick:()=>{o(),h.push("/auth/login")},style:{width:"100%",padding:"16px",background:"transparent",color:"#ef4444",border:"1px solid #ef4444",borderRadius:"24px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Sign Out"})})]}),(0,i.jsx)(a.A,{})]})})}},9563:(e,s,t)=>{"use strict";t.d(s,{n:()=>i});let i=(0,t(5453).v)((e,s)=>({user:null,status:"loading",clear:()=>{e({user:null,status:"unauthenticated"})},set:t=>{let{user:i}=s();("function"==typeof t?t(s()):t).user,e(t)}}))}},e=>{e.O(0,[604,244,441,964,358],()=>e(e.s=4769)),_N_E=e.O()}]);