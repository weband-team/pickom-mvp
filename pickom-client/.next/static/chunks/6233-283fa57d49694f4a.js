"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6233],{6864:(e,t,a)=>{a.d(t,{$H:()=>i,HW:()=>l,TK:()=>o,op:()=>n,wz:()=>s});var r=a(51070);let s=async e=>(await r.x.get("/user/".concat(e))).data,o=async(e,t)=>(await r.x.put("/user/".concat(e),t)).data,l=async()=>(await r.x.get("/auth/me")).data,i=async(e,t)=>(await r.x.put("/user/".concat(e,"/online-status"),{isOnline:t})).data,n=async e=>(await r.x.get("/user/".concat(e,"/balance"))).data},14140:(e,t,a)=>{a.d(t,{j:()=>l});var r=a(23915),s=a(45404);let o=(0,r.Wp)({apiKey:"AIzaSyDiclg8XNo2L1hDBoaSoHmFMBggUKYjHH4",authDomain:"pickom-mvp.firebaseapp.com",projectId:"pickom-mvp",storageBucket:"pickom-mvp.firebasestorage.app",messagingSenderId:"168767828055",appId:"1:168767828055:web:2853961b44970c114ab312"}),l=(0,s.xI)(o)},21787:(e,t,a)=>{a.d(t,{IT:()=>i,S1:()=>u,TS:()=>p,XE:()=>n,confirmRecipient:()=>x,createDeliveryRequest:()=>o,qM:()=>d,rg:()=>h,updateDeliveryRequest:()=>c,vd:()=>s,zW:()=>l});var r=a(51070);let s=async()=>r.B.get("/delivery/pickers"),o=async e=>r.x.post("/delivery/requests",e),l=async()=>r.x.get("/delivery/requests"),i=async e=>r.x.get("/delivery/requests/".concat(e)),n=async(e,t)=>r.x.put("/delivery/requests/".concat(e,"/status"),{status:t}),c=async(e,t)=>r.x.patch("/delivery/requests/".concat(e),t),d=async()=>r.x.get("/delivery/completed"),u=async()=>r.x.get("/delivery/cancelled"),x=async(e,t)=>r.x.put("/delivery/requests/".concat(e,"/confirm-recipient"),{confirmed:t}),h=async e=>r.x.post("/delivery/find-receiver",{email:e}),p=async()=>r.x.get("/delivery/incoming")},37429:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(31418),s=a(95155);let o=(0,r.A)((0,s.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser")},38464:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(31418),s=a(95155);let o=(0,r.A)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},51070:(e,t,a)=>{a.d(t,{B:()=>l,x:()=>o});var r=a(23464),s=a(14140);let o=r.A.create({baseURL:"".concat("http://localhost:4242"),withCredentials:!0,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(async e=>{let t=s.j.currentUser;if(t){let a=await t.getIdToken();e.headers.Authorization="Bearer ".concat(a)}return e},e=>Promise.reject(e));let l=r.A.create({baseURL:"".concat("http://localhost:4242"),withCredentials:!0,headers:{"Content-Type":"application/json"}})},52836:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(31418),s=a(95155);let o=(0,r.A)((0,s.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn")},54492:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(12115),s=a(52596),o=a(17472),l=a(71116),i=a(75955),n=a(10186),c=a(53580),d=a(39101),u=a(95155);let x=(0,i.Ay)(l.default,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),h=r.forwardRef(function(e,t){let a=(0,n.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:i,...h}=a,p=(e=>{let{classes:t}=e;return(0,o.A)({root:["root"]},c.t,t)})(a),{titleId:f=i}=r.useContext(d.A);return(0,u.jsx)(x,{component:"h2",className:(0,s.A)(p.root,l),ownerState:a,ref:t,variant:"h6",id:null!=i?i:f,...h})})},54670:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(95155),s=a(54581),o=a(72705),l=a(42663),i=a(71116),n=a(41101),c=a(37429),d=a(26290),u=a(2582),x=a(64341);function h(e){let{sender:t,variant:a="compact",showContact:h=!1}=e,p=t.isPhoneVerified&&t.isEmailVerified;return(0,r.jsx)(s.default,{sx:{p:2,borderRadius:2,backgroundColor:"background.paper",border:1,borderColor:"divider"},children:(0,r.jsxs)(o.A,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,r.jsx)(l.default,{src:t.avatarUrl,sx:{width:"full"===a?64:48,height:"full"===a?64:48,bgcolor:"primary.main",fontSize:"full"===a?"1.5rem":"1.2rem"},children:t.fullName.charAt(0).toUpperCase()}),(0,r.jsxs)(s.default,{sx:{flex:1},children:[(0,r.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,r.jsx)(i.default,{variant:"full"===a?"h6":"subtitle2",sx:{fontWeight:600},children:t.fullName}),p&&(0,r.jsx)(c.A,{sx:{fontSize:18,color:"primary.main"}})]}),(0,r.jsxs)(i.default,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["⭐ ",t.rating.toFixed(1)," • ",t.totalOrders," ",1===t.totalOrders?"order":"orders"]}),(0,r.jsxs)(s.default,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:[t.isPhoneVerified&&(0,r.jsx)(n.A,{icon:(0,r.jsx)(d.default,{sx:{fontSize:14}}),label:"Phone",size:"small",color:"success",variant:"outlined",sx:{height:24,fontSize:"0.7rem"}}),t.isEmailVerified&&(0,r.jsx)(n.A,{icon:(0,r.jsx)(u.default,{sx:{fontSize:14}}),label:"Email",size:"small",color:"success",variant:"outlined",sx:{height:24,fontSize:"0.7rem"}})]}),"full"===a&&(0,r.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:.5,mt:1},children:[(0,r.jsx)(x.A,{sx:{fontSize:14,color:"text.secondary"}}),(0,r.jsxs)(i.default,{variant:"caption",color:"text.secondary",children:["Member since ",new Date(t.memberSince).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]}),h&&"full"===a&&(0,r.jsxs)(s.default,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider"},children:[(0,r.jsx)(i.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Contact Information"}),t.phone&&(0,r.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[(0,r.jsx)(d.default,{sx:{fontSize:16,color:"text.secondary"}}),(0,r.jsx)(i.default,{variant:"body2",children:t.phone})]}),t.email&&(0,r.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(u.default,{sx:{fontSize:16,color:"text.secondary"}}),(0,r.jsx)(i.default,{variant:"body2",children:t.email})]})]})]})]})})}},63645:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(31418),s=a(95155);let o=(0,r.A)((0,s.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney")},64341:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(31418),s=a(95155);let o=(0,r.A)((0,s.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday")},97704:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(95155),s=a(12115),o=a(35695),l=a(18407),i=a(40541),n=a(9111),c=a(26564),d=a(11335),u=a(21888),x=a(43290),h=a(60807);let p=e=>e>99?"99+":e,f=(0,s.memo)(function(){let{className:e,unreadChatsCount:t=0,activeOrdersCount:a=0,unreadNotificationsCount:f=0,userRole:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=(0,o.useRouter)(),b=(0,o.usePathname)(),[v,y]=(0,s.useState)(()=>localStorage.getItem("userRole"));(0,s.useEffect)(()=>{if(!m){let e=null;b.startsWith("/available-deliveries")?e="picker":b.startsWith("/delivery-methods")&&(e="sender"),e&&e!==v&&(y(e),localStorage.setItem("userRole",e))}},[b,m,v]);let j=m||v,A=(0,s.useMemo)(()=>b.startsWith("/delivery-methods")||b.startsWith("/orders")||b.startsWith("/available-deliveries")?0:b.startsWith("/chat")?1:b.startsWith("/notifications")?2:3*!!b.startsWith("/profile"),[b]),[k,C]=(0,s.useState)(A),S=(0,s.useCallback)((e,t)=>{switch(C(t),t){case 0:"picker"===j?g.push("/available-deliveries"):g.push("/delivery-methods");break;case 1:g.push("/chats");break;case 2:g.push("/notifications");break;case 3:g.push("/profile")}},[g,j]);return(0,r.jsx)(l.A,{className:e,sx:{position:"absolute",bottom:0,left:0,right:0,zIndex:1200,paddingBottom:"env(safe-area-inset-bottom)",backgroundColor:"background.paper",borderTop:1,borderColor:"divider",borderRadius:0,boxShadow:"none"},elevation:0,children:(0,r.jsxs)(i.A,{value:k,onChange:S,sx:{backgroundColor:"background.paper"},children:[(0,r.jsx)(n.A,{label:"Orders",icon:(0,r.jsx)(c.default,{badgeContent:p(a),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,r.jsx)(d.default,{})})}),(0,r.jsx)(n.A,{label:"Chat",icon:(0,r.jsx)(c.default,{badgeContent:p(t),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,r.jsx)(u.A,{})})}),(0,r.jsx)(n.A,{label:"Notifications",icon:(0,r.jsx)(c.default,{badgeContent:p(f),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,r.jsx)(x.A,{})})}),(0,r.jsx)(n.A,{label:"Profile",icon:(0,r.jsx)(h.default,{})})]})})})}}]);