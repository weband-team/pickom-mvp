"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3030],{6864:(e,t,a)=>{a.d(t,{$H:()=>s,HW:()=>i,TK:()=>l,op:()=>n,wz:()=>o});var r=a(51070);let o=async e=>(await r.x.get("/user/".concat(e))).data,l=async(e,t)=>(await r.x.put("/user/".concat(e),t)).data,i=async()=>(await r.x.get("/auth/me")).data,s=async(e,t)=>(await r.x.put("/user/".concat(e,"/online-status"),{isOnline:t})).data,n=async e=>(await r.x.get("/user/".concat(e,"/balance"))).data},14140:(e,t,a)=>{a.d(t,{j:()=>i});var r=a(23915),o=a(45404);let l=(0,r.Wp)({apiKey:"AIzaSyDiclg8XNo2L1hDBoaSoHmFMBggUKYjHH4",authDomain:"pickom-mvp.firebaseapp.com",projectId:"pickom-mvp",storageBucket:"pickom-mvp.firebasestorage.app",messagingSenderId:"168767828055",appId:"1:168767828055:web:2853961b44970c114ab312"}),i=(0,o.xI)(l)},18986:(e,t,a)=>{a.d(t,{GS:()=>o});var r=a(51070);let o=async e=>r.x.post("/rating",e)},21787:(e,t,a)=>{a.d(t,{IT:()=>s,S1:()=>u,TS:()=>g,XE:()=>n,confirmRecipient:()=>p,createDeliveryRequest:()=>l,qM:()=>c,rg:()=>h,updateDeliveryRequest:()=>d,vd:()=>o,zW:()=>i});var r=a(51070);let o=async()=>r.B.get("/delivery/pickers"),l=async e=>r.x.post("/delivery/requests",e),i=async()=>r.x.get("/delivery/requests"),s=async e=>r.x.get("/delivery/requests/".concat(e)),n=async(e,t)=>r.x.put("/delivery/requests/".concat(e,"/status"),{status:t}),d=async(e,t)=>r.x.patch("/delivery/requests/".concat(e),t),c=async()=>r.x.get("/delivery/completed"),u=async()=>r.x.get("/delivery/cancelled"),p=async(e,t)=>r.x.put("/delivery/requests/".concat(e,"/confirm-recipient"),{confirmed:t}),h=async e=>r.x.post("/delivery/find-receiver",{email:e}),g=async()=>r.x.get("/delivery/incoming")},38464:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(31418),o=a(95155);let l=(0,r.A)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},42663:(e,t,a)=>{a.d(t,{default:()=>m});var r=a(12115),o=a(52596),l=a(17472),i=a(75955),s=a(40680),n=a(10186),d=a(31418),c=a(95155);let u=(0,d.A)((0,c.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=a(55170),h=a(90870);function g(e){return(0,h.Ay)("MuiAvatar",e)}(0,p.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var f=a(47798);let b=(0,i.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((0,s.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),v=(0,i.Ay)("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),x=(0,i.Ay)(u,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"}),m=r.forwardRef(function(e,t){let a=(0,n.b)({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:d,component:u="div",slots:p={},slotProps:h={},imgProps:m,sizes:y,src:k,srcSet:w,variant:A="circular",...j}=a,C=null,R={...a,component:u,variant:A},I=function(e){let{crossOrigin:t,referrerPolicy:a,src:o,srcSet:l}=e,[i,s]=r.useState(!1);return r.useEffect(()=>{if(!o&&!l)return;s(!1);let e=!0,r=new Image;return r.onload=()=>{e&&s("loaded")},r.onerror=()=>{e&&s("error")},r.crossOrigin=t,r.referrerPolicy=a,r.src=o,l&&(r.srcset=l),()=>{e=!1}},[t,a,o,l]),i}({...m,..."function"==typeof h.img?h.img(R):h.img,src:k,srcSet:w}),S=k||w,W=S&&"error"!==I;R.colorDefault=!W,delete R.ownerState;let F=(e=>{let{classes:t,variant:a,colorDefault:r}=e;return(0,l.A)({root:["root",a,r&&"colorDefault"],img:["img"],fallback:["fallback"]},g,t)})(R),[M,B]=(0,f.A)("root",{ref:t,className:(0,o.A)(F.root,d),elementType:b,externalForwardedProps:{slots:p,slotProps:h,component:u,...j},ownerState:R}),[q,P]=(0,f.A)("img",{className:F.img,elementType:v,externalForwardedProps:{slots:p,slotProps:{img:{...m,...h.img}}},additionalProps:{alt:i,src:k,srcSet:w,sizes:y},ownerState:R}),[T,z]=(0,f.A)("fallback",{className:F.fallback,elementType:x,externalForwardedProps:{slots:p,slotProps:h},shouldForwardComponentProp:!0,ownerState:R});return C=W?(0,c.jsx)(q,{...P}):s||0===s?s:S&&i?i[0]:(0,c.jsx)(T,{...z}),(0,c.jsx)(M,{...B,children:C})})},43452:(e,t,a)=>{a.d(t,{MobileContainer:()=>s});var r=a(95155);a(12115);var o=a(54581),l=a(18407),i=a(35695);let s=e=>{let{children:t,width:a=375,height:s=812,showFrame:n=!0,backgroundColor:d,showBottomNav:c=!0}=e,u=(0,i.usePathname)(),p=(null==u?void 0:u.includes("/login"))||(null==u?void 0:u.includes("/register")),h=c&&!p;return n?(0,r.jsx)(o.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:3,backgroundColor:"#f5f5f5"},children:(0,r.jsx)(l.A,{elevation:3,sx:{width:a,height:h?"calc(".concat(s,"px - 70px)"):s,borderRadius:6,overflow:"hidden",position:"relative",bgcolor:d||"background.default",border:"8px solid #000000","&::before":{content:'""',position:"absolute",top:12,left:"50%",transform:"translateX(-50%)",width:134,height:6,backgroundColor:"#000000",borderRadius:3,zIndex:1},"&::after":{content:'""',position:"absolute",bottom:8,left:"50%",transform:"translateX(-50%)",width:134,height:5,backgroundColor:"#000000",borderRadius:2.5,zIndex:1}},children:(0,r.jsx)(o.default,{"data-mobile-container":!0,sx:{width:"100%",height:"100%",paddingTop:6,overflow:"auto",position:"relative","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},children:(0,r.jsx)(o.default,{sx:{paddingBottom:4,minHeight:"100%"},children:t})})})}):(0,r.jsx)(o.default,{"data-mobile-container":!0,sx:{width:"100%",maxWidth:a,height:h?"calc(100vh - 70px)":"100vh",maxHeight:h?"calc(".concat(s,"px - 70px)"):s,bgcolor:d||"background.default",overflow:"hidden",position:"relative","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},children:(0,r.jsx)(o.default,{sx:{paddingBottom:0,minHeight:"100%",overflow:"auto",height:"100%"},children:t})})}},51070:(e,t,a)=>{a.d(t,{B:()=>i,x:()=>l});var r=a(23464),o=a(14140);let l=r.A.create({baseURL:"".concat("http://localhost:4242"),withCredentials:!0,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(async e=>{let t=o.j.currentUser;if(t){let a=await t.getIdToken();e.headers.Authorization="Bearer ".concat(a)}return e},e=>Promise.reject(e));let i=r.A.create({baseURL:"".concat("http://localhost:4242"),withCredentials:!0,headers:{"Content-Type":"application/json"}})},97704:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(95155),o=a(12115),l=a(35695),i=a(18407),s=a(40541),n=a(9111),d=a(26564),c=a(11335),u=a(21888),p=a(43290),h=a(60807);let g=e=>e>99?"99+":e,f=(0,o.memo)(function(){let{className:e,unreadChatsCount:t=0,activeOrdersCount:a=0,unreadNotificationsCount:f=0,userRole:b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=(0,l.useRouter)(),x=(0,l.usePathname)(),[m,y]=(0,o.useState)(()=>localStorage.getItem("userRole"));(0,o.useEffect)(()=>{if(!b){let e=null;x.startsWith("/available-deliveries")?e="picker":x.startsWith("/delivery-methods")&&(e="sender"),e&&e!==m&&(y(e),localStorage.setItem("userRole",e))}},[x,b,m]);let k=b||m,w=(0,o.useMemo)(()=>x.startsWith("/delivery-methods")||x.startsWith("/orders")||x.startsWith("/available-deliveries")?0:x.startsWith("/chat")?1:x.startsWith("/notifications")?2:3*!!x.startsWith("/profile"),[x]),[A,j]=(0,o.useState)(w),C=(0,o.useCallback)((e,t)=>{switch(j(t),t){case 0:"picker"===k?v.push("/available-deliveries"):v.push("/delivery-methods");break;case 1:v.push("/chats");break;case 2:v.push("/notifications");break;case 3:v.push("/profile")}},[v,k]);return(0,r.jsx)(i.A,{className:e,sx:{position:"absolute",bottom:0,left:0,right:0,zIndex:1200,paddingBottom:"env(safe-area-inset-bottom)",backgroundColor:"background.paper",borderTop:1,borderColor:"divider",borderRadius:0,boxShadow:"none"},elevation:0,children:(0,r.jsxs)(s.A,{value:A,onChange:C,sx:{backgroundColor:"background.paper"},children:[(0,r.jsx)(n.A,{label:"Orders",icon:(0,r.jsx)(d.default,{badgeContent:g(a),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,r.jsx)(c.default,{})})}),(0,r.jsx)(n.A,{label:"Chat",icon:(0,r.jsx)(d.default,{badgeContent:g(t),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,r.jsx)(u.A,{})})}),(0,r.jsx)(n.A,{label:"Notifications",icon:(0,r.jsx)(d.default,{badgeContent:g(f),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,r.jsx)(p.A,{})})}),(0,r.jsx)(n.A,{label:"Profile",icon:(0,r.jsx)(h.default,{})})]})})})}}]);