"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6509,9433],{2791:(e,t,r)=>{r.d(t,{b:()=>d});var a=r(95155),o=r(54581),i=r(71116),n=r(28307),s=r(98226);let l={[s.u.SENDER]:"Sender",[s.u.PICKER]:"Picker"};function d(e){let{user:t}=e;return(0,a.jsxs)(o.default,{sx:{textAlign:"center",mb:4},children:[(0,a.jsx)(o.default,{sx:{mb:2},children:(0,a.jsx)(n.H,{name:t.fullName,avatarUrl:t.avatarUrl,sx:{width:100,height:100,fontSize:"2rem",mx:"auto",cursor:"default","&:hover":{transform:"none",opacity:1,boxShadow:"none"},"&:active":{transform:"none"}}})}),(0,a.jsx)(i.default,{variant:"h5",sx:{fontWeight:"bold",mb:1},children:t.fullName}),(0,a.jsx)(i.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:l[t.userType]||"User"}),t.isVerified&&(0,a.jsx)(o.default,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"#e8f5e8",color:"#2e7d32",px:2,py:.5,borderRadius:1,fontSize:"0.875rem"},children:"âœ“ Verified User"})]})}},14140:(e,t,r)=>{r.d(t,{j:()=>n});var a=r(23915),o=r(45404);let i=(0,a.Wp)({apiKey:"AIzaSyDiclg8XNo2L1hDBoaSoHmFMBggUKYjHH4",authDomain:"pickom-mvp.firebaseapp.com",projectId:"pickom-mvp",storageBucket:"pickom-mvp.firebasestorage.app",messagingSenderId:"168767828055",appId:"1:168767828055:web:2853961b44970c114ab312"}),n=(0,o.xI)(i)},16509:(e,t,r)=>{r.d(t,{TJ:()=>s,_z:()=>l,createChat:()=>o,iS:()=>d,m7:()=>n,ug:()=>i});var a=r(51070);let o=async e=>a.x.post("/chat/create",e),i=async()=>a.x.get("/chat"),n=async e=>a.x.get("/chat/delivery/".concat(e)),s=async e=>a.x.get("/chat/".concat(e)),l=async(e,t)=>a.x.post("/chat/".concat(e,"/messages"),t),d=async e=>a.x.patch("/chat/".concat(e,"/messages/mark-read"))},28307:(e,t,r)=>{r.d(t,{H:()=>n});var a=r(95155),o=r(42663),i=r(35695);function n(e){let{name:t,avatarUrl:r,sx:n}=e,s=(0,i.useRouter)();return(0,a.jsx)(o.default,{src:r,sx:{width:40,height:40,cursor:"pointer","&:hover":{transform:"scale(1.05)",opacity:.8,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},...n},onClick:()=>s.push("/profile"),children:t[0]})}},43452:(e,t,r)=>{r.d(t,{MobileContainer:()=>s});var a=r(95155);r(12115);var o=r(54581),i=r(18407),n=r(35695);let s=e=>{let{children:t,width:r=375,height:s=812,showFrame:l=!0,backgroundColor:d,showBottomNav:c=!0}=e,u=(0,n.usePathname)(),h=(null==u?void 0:u.includes("/login"))||(null==u?void 0:u.includes("/register")),x=c&&!h;return l?(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:3,backgroundColor:"#f5f5f5"},children:(0,a.jsx)(i.A,{elevation:3,sx:{width:r,height:x?"calc(".concat(s,"px - 70px)"):s,borderRadius:6,overflow:"hidden",position:"relative",bgcolor:d||"background.default",border:"8px solid #000000","&::before":{content:'""',position:"absolute",top:12,left:"50%",transform:"translateX(-50%)",width:134,height:6,backgroundColor:"#000000",borderRadius:3,zIndex:1},"&::after":{content:'""',position:"absolute",bottom:8,left:"50%",transform:"translateX(-50%)",width:134,height:5,backgroundColor:"#000000",borderRadius:2.5,zIndex:1}},children:(0,a.jsx)(o.default,{"data-mobile-container":!0,sx:{width:"100%",height:"100%",paddingTop:6,overflow:"auto",position:"relative","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},children:(0,a.jsx)(o.default,{sx:{paddingBottom:4,minHeight:"100%"},children:t})})})}):(0,a.jsx)(o.default,{"data-mobile-container":!0,sx:{width:"100%",maxWidth:r,height:x?"calc(100vh - 70px)":"100vh",maxHeight:x?"calc(".concat(s,"px - 70px)"):s,bgcolor:d||"background.default",overflow:"hidden",position:"relative","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},children:(0,a.jsx)(o.default,{sx:{paddingBottom:0,minHeight:"100%",overflow:"auto",height:"100%"},children:t})})}},51070:(e,t,r)=>{r.d(t,{B:()=>n,x:()=>i});var a=r(23464),o=r(14140);let i=a.A.create({baseURL:"".concat("http://localhost:4242"),withCredentials:!0,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(async e=>{let t=o.j.currentUser;if(t){let r=await t.getIdToken();e.headers.Authorization="Bearer ".concat(r)}return e},e=>Promise.reject(e));let n=a.A.create({baseURL:"".concat("http://localhost:4242"),withCredentials:!0,headers:{"Content-Type":"application/json"}})},66617:(e,t,r)=>{r.d(t,{P:()=>d});var a=r(95155),o=r(54581),i=r(71116),n=r(11335),s=r(65324),l=r(68558);function d(e){let{rating:t,totalRatings:r=0,role:d,completedDeliveries:c=0,totalOrders:u=0}=e,h="picker"===d?n.default:s.A;return(0,a.jsxs)(o.default,{sx:{mb:4},children:[(0,a.jsx)(i.default,{variant:"h6",sx:{mb:2},children:"Rating"}),(0,a.jsxs)(o.default,{sx:{textAlign:"center",p:3,bgcolor:"background.paper",borderRadius:2,border:1,borderColor:"divider",mb:2},children:[(0,a.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[(0,a.jsx)(l.default,{sx:{fontSize:40,color:"#FFB800",mr:1}}),(0,a.jsx)(i.default,{variant:"h3",sx:{fontWeight:"bold",color:"primary.main"},children:(e=>{if(null==e)return"0.0";let t=Number(e);return isNaN(t)?"0.0":t.toFixed(1)})(t)})]}),(0,a.jsx)(i.default,{variant:"body2",color:"text.secondary",children:r>0?"Based on ".concat(r," ").concat(1===r?"review":"reviews"):"No reviews yet"})]}),(0,a.jsxs)(o.default,{sx:{textAlign:"center",p:3,bgcolor:"background.paper",borderRadius:2,border:1,borderColor:"divider"},children:[(0,a.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[(0,a.jsx)(h,{sx:{fontSize:40,color:"primary.main",mr:1}}),(0,a.jsx)(i.default,{variant:"h3",sx:{fontWeight:"bold",color:"primary.main"},children:"picker"===d?c:u})]}),(0,a.jsx)(i.default,{variant:"body2",color:"text.secondary",children:"picker"===d?"Deliveries Completed":"Orders Placed"})]})]})}},97704:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var a=r(95155),o=r(12115),i=r(35695),n=r(18407),s=r(40541),l=r(9111),d=r(26564),c=r(11335),u=r(21888),h=r(43290),x=r(60807);let b=e=>e>99?"99+":e,f=(0,o.memo)(function(){let{className:e,unreadChatsCount:t=0,activeOrdersCount:r=0,unreadNotificationsCount:f=0,userRole:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=(0,i.useRouter)(),m=(0,i.usePathname)(),[v,j]=(0,o.useState)(()=>localStorage.getItem("userRole"));(0,o.useEffect)(()=>{if(!p){let e=null;m.startsWith("/available-deliveries")?e="picker":m.startsWith("/delivery-methods")&&(e="sender"),e&&e!==v&&(j(e),localStorage.setItem("userRole",e))}},[m,p,v]);let y=p||v,k=(0,o.useMemo)(()=>m.startsWith("/delivery-methods")||m.startsWith("/orders")||m.startsWith("/available-deliveries")?0:m.startsWith("/chat")?1:m.startsWith("/notifications")?2:3*!!m.startsWith("/profile"),[m]),[C,w]=(0,o.useState)(k),I=(0,o.useCallback)((e,t)=>{switch(w(t),t){case 0:"picker"===y?g.push("/available-deliveries"):g.push("/delivery-methods");break;case 1:g.push("/chats");break;case 2:g.push("/notifications");break;case 3:g.push("/profile")}},[g,y]);return(0,a.jsx)(n.A,{className:e,sx:{position:"absolute",bottom:0,left:0,right:0,zIndex:1200,paddingBottom:"env(safe-area-inset-bottom)",backgroundColor:"background.paper",borderTop:1,borderColor:"divider",borderRadius:0,boxShadow:"none"},elevation:0,children:(0,a.jsxs)(s.A,{value:C,onChange:I,sx:{backgroundColor:"background.paper"},children:[(0,a.jsx)(l.A,{label:"Orders",icon:(0,a.jsx)(d.default,{badgeContent:b(r),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,a.jsx)(c.default,{})})}),(0,a.jsx)(l.A,{label:"Chat",icon:(0,a.jsx)(d.default,{badgeContent:b(t),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,a.jsx)(u.A,{})})}),(0,a.jsx)(l.A,{label:"Notifications",icon:(0,a.jsx)(d.default,{badgeContent:b(f),color:"error",max:99,sx:{"& .MuiBadge-badge":{backgroundColor:"#FF9500",color:"#000000",fontWeight:600}},children:(0,a.jsx)(h.A,{})})}),(0,a.jsx)(l.A,{label:"Profile",icon:(0,a.jsx)(x.default,{})})]})})})},98226:(e,t,r)=>{r.d(t,{u:()=>a,y:()=>o});var a=function(e){return e.SENDER="sender",e.PICKER="picker",e}({}),o=function(e){return e.WITHIN_CITY="within_city",e.INTER_CITY="inter_city",e.INTERNATIONAL="international",e.COMBINED="combined",e}({})}}]);